Application Bootstrap
Root NestJS module wiring all domain modules and infrastructure together.

The app module is the application entry point. It imports and configures all domain modules (models, agents, threads, runs, messages, tools, prompts, sources, RAG, retrievers, storage, MCP, usage, transcriptions, shares), IAM, admin, scheduling, static file serving, CLS transactional support, and all configuration modules. It also provides the health check and cloud-detection endpoints.

The `AppModule` is the root NestJS module that composes the entire application. It loads all configuration via `ConfigModule.forRoot()` with numerous config factories (models, auth, typeorm, embeddings, storage, web, app, admin, legal, subscriptions, emails, internet-search, MCP, tools). Database connectivity uses `TypeOrmModule.forRootAsync()` with the shared `dataSource`, including a vector type hack for pgvector support. Request-scoped context is initialized via `ClsModule.forRoot()` with `ClsPluginTransactional` for TypeORM transaction propagation. `SentryModule` and `ScheduleModule` are included for monitoring and cron jobs. The `AppController` exposes two public endpoints: `GET /` returns cloud deployment status and registration availability via `IsCloudUseCase` and `IsRegistrationDisabledUseCase`, and `GET /health` provides a simple health check. Middleware (`CookieParserMiddleware`, `SecurityHeadersMiddleware`) is applied globally. `ServeStaticModule` serves the frontend build from the `client` directory in production.
