{
  "openapi": "3.0.0",
  "paths": {
    "/": {
      "get": {
        "operationId": "AppController_isCloud",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Cloud deployment status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IsCloudResponseDto"
                }
              }
            }
          }
        },
        "summary": "Check if the deployment is running in a cloud environment",
        "tags": [
          "app"
        ]
      }
    },
    "/health": {
      "get": {
        "operationId": "AppController_health",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Health status"
          }
        },
        "summary": "Check if the deployment is healthy",
        "tags": [
          "app"
        ]
      }
    },
    "/models/available": {
      "get": {
        "operationId": "ModelsController_getAvailableModelsWithConfig",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved all available models",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ModelWithConfigResponseDto"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all available models",
        "tags": [
          "models"
        ]
      }
    },
    "/models/providers": {
      "get": {
        "operationId": "ModelsController_getProviders",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved all model providers",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ModelProviderInfoResponseDto"
                  }
                }
              }
            }
          }
        },
        "summary": "Get all available model providers with their info",
        "tags": [
          "models"
        ]
      }
    },
    "/models/permitted": {
      "post": {
        "operationId": "ModelsController_createPermittedModel",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePermittedModelDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully created a permitted model"
          },
          "400": {
            "description": "Invalid model input"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create a permitted model",
        "tags": [
          "models"
        ]
      }
    },
    "/models/permitted/{id}": {
      "delete": {
        "operationId": "ModelsController_deletePermittedModel",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully deleted a permitted model"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "summary": "Delete a permitted model",
        "tags": [
          "models"
        ]
      },
      "patch": {
        "operationId": "ModelsController_updatePermittedModel",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePermittedModelDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully updated a permitted model",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermittedLanguageModelResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Permitted model not found"
          }
        },
        "summary": "Update a permitted model",
        "tags": [
          "models"
        ]
      }
    },
    "/models/permitted/language-models": {
      "get": {
        "operationId": "ModelsController_getPermittedLanguageModels",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved all permitted language models",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PermittedLanguageModelResponseDto"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all permitted language models",
        "tags": [
          "models"
        ]
      }
    },
    "/models/default": {
      "get": {
        "description": "Returns the applicable default model with fallback hierarchy: User default → Org default → First available model",
        "operationId": "ModelsController_getEffectiveDefaultModel",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved the effective default model",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermittedLanguageModelResponseDtoNullable"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get the effective default model for the user",
        "tags": [
          "models"
        ]
      }
    },
    "/models/org/default": {
      "get": {
        "description": "Returns only the organization's specific default model. Returns null if no org default is set.",
        "operationId": "ModelsController_getOrgSpecificDefaultModel",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved the organization default model",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermittedLanguageModelResponseDtoNullable"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get the organization default model",
        "tags": [
          "models"
        ]
      },
      "put": {
        "description": "Sets the specified permitted model as the organization default. If a default already exists, it will be updated to the new model.",
        "operationId": "ModelsController_manageOrgDefaultModel",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetOrgDefaultModelDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully set or updated the organization default model",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermittedLanguageModelResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request payload"
          },
          "404": {
            "description": "Permitted model not found"
          }
        },
        "summary": "Set or update the organization default model",
        "tags": [
          "models"
        ]
      }
    },
    "/models/user/default": {
      "get": {
        "description": "Returns the user's personal default model only. Returns null if no user-specific default is set.",
        "operationId": "ModelsController_getUserSpecificDefaultModel",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved the user-specific default model",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermittedLanguageModelResponseDtoNullable"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get the user-specific default model",
        "tags": [
          "models"
        ]
      },
      "put": {
        "description": "Sets the specified permitted model as the user default. If a default already exists, it will be updated to the new model.",
        "operationId": "ModelsController_manageUserDefaultModel",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetUserDefaultModelDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully set or updated the user default model",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermittedLanguageModelResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request payload"
          },
          "404": {
            "description": "Permitted model not found"
          }
        },
        "summary": "Set or update the user default model",
        "tags": [
          "models"
        ]
      },
      "delete": {
        "operationId": "ModelsController_deleteUserDefaultModel",
        "parameters": [],
        "responses": {
          "204": {
            "description": "Successfully deleted the user default model"
          },
          "404": {
            "description": "User default model not found"
          }
        },
        "summary": "Delete the user default model",
        "tags": [
          "models"
        ]
      }
    },
    "/models/provider/{provider}": {
      "get": {
        "description": "Retrieves detailed information about a specific model provider",
        "operationId": "ModelsController_getModelProviderInfo",
        "parameters": [
          {
            "name": "provider",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved model provider information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelProviderInfoResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Model provider not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get model provider information",
        "tags": [
          "models"
        ]
      }
    },
    "/models/embedding/enabled": {
      "get": {
        "operationId": "ModelsController_isEmbeddingModelEnabled",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully checked embedding model status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmbeddingModelEnabledResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Check if an embedding model is enabled for this org",
        "tags": [
          "models"
        ]
      }
    },
    "/super-admin/models/{orgId}/available": {
      "get": {
        "description": "Retrieve all available models from the registry with their permitted status for the specified organization. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_getAvailableModels",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to check permitted status for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved available models",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ModelWithConfigResponseDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all available models",
        "tags": [
          "Super Admin Models"
        ]
      }
    },
    "/super-admin/models/{orgId}/default-model": {
      "put": {
        "description": "Sets the specified permitted model as the organization default. If a default already exists, it will be updated to the new model. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_manageOrgDefaultModel",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to set the default model for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetOrgDefaultModelDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully set or updated the organization default model",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermittedLanguageModelResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid model data provided"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "Permitted model not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Set or update the organization default model",
        "tags": [
          "Super Admin Models"
        ]
      }
    },
    "/super-admin/models/catalog/{id}": {
      "delete": {
        "description": "Remove a model (language or embedding) from the master catalog. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_deleteCatalogModel",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Model ID to delete",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successfully deleted model"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "Model not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Delete a model from the catalog",
        "tags": [
          "Super Admin Models"
        ]
      },
      "get": {
        "description": "Retrieve a specific model from the master catalog by its ID. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_getCatalogModelById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Model ID to retrieve",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved model",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/LanguageModelResponseDto"
                    },
                    {
                      "$ref": "#/components/schemas/EmbeddingModelResponseDto"
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "Model not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get a model by ID from the catalog",
        "tags": [
          "Super Admin Models"
        ]
      }
    },
    "/super-admin/models/{orgId}/permitted-models": {
      "get": {
        "description": "Retrieve all permitted models for the specified organization. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_getPermittedModels",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to get permitted models for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved permitted models",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "oneOf": [
                      {
                        "$ref": "#/components/schemas/PermittedLanguageModelResponseDto"
                      },
                      {
                        "$ref": "#/components/schemas/PermittedEmbeddingModelResponseDto"
                      }
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all permitted models for a specific organization",
        "tags": [
          "Super Admin Models"
        ]
      },
      "post": {
        "description": "Create a new permitted model for the specified organization. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_createPermittedModel",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to create permitted model for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePermittedModelDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successfully created permitted model"
          },
          "400": {
            "description": "Invalid model data provided"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "409": {
            "description": "Model already permitted for this organization"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create a permitted model for a specific organization",
        "tags": [
          "Super Admin Models"
        ]
      }
    },
    "/super-admin/models/{orgId}/permitted-models/{id}": {
      "delete": {
        "description": "Delete a permitted model for the specified organization. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_deletePermittedModel",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to delete permitted model for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Permitted model ID to delete",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successfully deleted permitted model"
          },
          "400": {
            "description": "Cannot delete the last permitted language model or default model"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "Permitted model not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Delete a permitted model for a specific organization",
        "tags": [
          "Super Admin Models"
        ]
      },
      "patch": {
        "description": "Update the settings of a permitted model for the specified organization. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_updatePermittedModel",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to update permitted model for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Permitted model ID to update",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePermittedModelDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully updated permitted model",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/PermittedLanguageModelResponseDto"
                    },
                    {
                      "$ref": "#/components/schemas/PermittedEmbeddingModelResponseDto"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid update data provided"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "Permitted model not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Update a permitted model for a specific organization",
        "tags": [
          "Super Admin Models"
        ]
      }
    },
    "/super-admin/models/catalog": {
      "get": {
        "description": "Retrieve all models (language and embedding) from the master catalog. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_getAllCatalogModels",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved all models",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "oneOf": [
                      {
                        "$ref": "#/components/schemas/LanguageModelResponseDto"
                      },
                      {
                        "$ref": "#/components/schemas/EmbeddingModelResponseDto"
                      }
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all models in the catalog",
        "tags": [
          "Super Admin Models"
        ]
      }
    },
    "/super-admin/models/catalog/language": {
      "post": {
        "description": "Create a new language model in the master catalog. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_createLanguageModel",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLanguageModelRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successfully created language model",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LanguageModelResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid model data provided"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "409": {
            "description": "Model already exists"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create a new language model in the catalog",
        "tags": [
          "Super Admin Models"
        ]
      }
    },
    "/super-admin/models/catalog/language/{id}": {
      "patch": {
        "description": "Update an existing language model in the master catalog. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_updateLanguageModel",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Model ID to update",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateLanguageModelRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully updated language model",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LanguageModelResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid model data provided"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "Model not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Update a language model in the catalog",
        "tags": [
          "Super Admin Models"
        ]
      }
    },
    "/super-admin/models/catalog/embedding": {
      "post": {
        "description": "Create a new embedding model in the master catalog. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_createEmbeddingModel",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEmbeddingModelRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successfully created embedding model",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmbeddingModelResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid model data provided"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "409": {
            "description": "Model already exists"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create a new embedding model in the catalog",
        "tags": [
          "Super Admin Models"
        ]
      }
    },
    "/super-admin/models/catalog/embedding/{id}": {
      "patch": {
        "description": "Update an existing embedding model in the master catalog. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminModelsController_updateEmbeddingModel",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Model ID to update",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEmbeddingModelRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully updated embedding model",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmbeddingModelResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid model data provided"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "Model not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Update an embedding model in the catalog",
        "tags": [
          "Super Admin Models"
        ]
      }
    },
    "/super-admin/orgs": {
      "post": {
        "description": "Create a new organization in the system. Only accessible to users with the super admin system role.",
        "operationId": "SuperAdminOrgsController_createOrg",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Organization information",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOrgRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successfully created organization for the super admin.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuperAdminOrgResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request format or validation errors."
          },
          "403": {
            "description": "The requester is not a super admin."
          }
        },
        "summary": "Create a new organization",
        "tags": [
          "Super Admin Orgs"
        ]
      },
      "get": {
        "description": "Retrieve paginated organizations in the system. Only accessible to users with the super admin system role.",
        "operationId": "SuperAdminOrgsController_getAllOrgs",
        "parameters": [
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search organizations by name.",
            "schema": {
              "example": "Acme",
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of organizations to return (default: 50).",
            "schema": {
              "default": 50,
              "example": 25,
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of organizations to skip (default: 0).",
            "schema": {
              "default": 0,
              "example": 0,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved organizations for the super admin.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuperAdminOrgListResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "The requester is not a super admin."
          }
        },
        "summary": "List all organizations",
        "tags": [
          "Super Admin Orgs"
        ]
      }
    },
    "/super-admin/orgs/{id}": {
      "get": {
        "description": "Retrieve an organization by its ID. Only accessible to users with the super admin system role.",
        "operationId": "SuperAdminOrgsController_getOrgById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The ID of the organization to retrieve.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved organization for the super admin.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuperAdminOrgResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "The requester is not a super admin."
          }
        },
        "summary": "Get an organization by ID",
        "tags": [
          "Super Admin Orgs"
        ]
      }
    },
    "/users": {
      "get": {
        "description": "Retrieve paginated users that belong to the current authenticated user's organization. Returns user information without sensitive data like password hashes.",
        "operationId": "UserController_getUsersInOrganization",
        "parameters": [
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search users by name or email",
            "schema": {
              "example": "john",
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of users to return (default: 25)",
            "schema": {
              "default": 25,
              "example": 25,
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of users to skip (default: 0)",
            "schema": {
              "default": 0,
              "example": 0,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved users in the organization",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedUsersListResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "User not authenticated"
          },
          "500": {
            "description": "Internal server error occurred while retrieving users"
          }
        },
        "summary": "Get users in current organization",
        "tags": [
          "Users"
        ]
      }
    },
    "/users/{id}/role": {
      "patch": {
        "description": "Update the role of a user. You cannot update your own role.",
        "operationId": "UserController_updateUserRole",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID to update role for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "New role information",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRoleDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User role successfully updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid role value"
          },
          "401": {
            "description": "User not authenticated or trying to update own role"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal server error occurred while updating user role"
          }
        },
        "summary": "Update user role",
        "tags": [
          "Users"
        ]
      }
    },
    "/users/name": {
      "patch": {
        "description": "Update the name of a user. Users can only update their own name.",
        "operationId": "UserController_updateUserName",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "New name information",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserNameDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User name successfully updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid name value"
          },
          "401": {
            "description": "User not authenticated or not authorized to update this user"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal server error occurred while updating user name"
          }
        },
        "summary": "Update user name",
        "tags": [
          "Users"
        ]
      }
    },
    "/users/password": {
      "patch": {
        "description": "Update the password of the current authenticated user. Requires current password for verification.",
        "operationId": "UserController_updatePassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Password update information",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePasswordDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Password successfully updated"
          },
          "400": {
            "description": "Invalid password values or passwords do not match"
          },
          "401": {
            "description": "User not authenticated or current password is incorrect"
          },
          "500": {
            "description": "Internal server error occurred while updating password"
          }
        },
        "summary": "Update user password",
        "tags": [
          "Users"
        ]
      }
    },
    "/users/confirm-email": {
      "post": {
        "description": "Confirm a user's email address using a JWT token received via email",
        "operationId": "UserController_confirmEmail",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Email confirmation token",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConfirmEmailDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Email successfully confirmed"
          },
          "400": {
            "description": "Invalid token or token has expired"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal server error occurred while confirming email"
          }
        },
        "summary": "Confirm user email",
        "tags": [
          "Users"
        ]
      }
    },
    "/users/resend-confirmation": {
      "post": {
        "description": "Resend a confirmation email to the specified email address. Silently succeeds even if email is already verified or user does not exist for security reasons.",
        "operationId": "UserController_resendEmailConfirmation",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Email address to resend confirmation to",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResendEmailConfirmationDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Confirmation email resent (or silently handled)"
          },
          "400": {
            "description": "Invalid email format"
          },
          "500": {
            "description": "Internal server error occurred while sending email"
          }
        },
        "summary": "Resend email confirmation",
        "tags": [
          "Users"
        ]
      }
    },
    "/users/{id}": {
      "delete": {
        "description": "Delete a user by their ID. Only users within the same organization can be deleted.",
        "operationId": "UserController_deleteUser",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID to delete",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "User successfully deleted"
          },
          "401": {
            "description": "User not authenticated"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal server error occurred while deleting user"
          }
        },
        "summary": "Delete a user",
        "tags": [
          "Users"
        ]
      }
    },
    "/users/{id}/trigger-password-reset": {
      "post": {
        "description": "Send a password reset email to a user in your organization. Only organization admins can use this endpoint.",
        "operationId": "UserController_triggerPasswordResetForUser",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID to send password reset email to",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Password reset email sent successfully"
          },
          "401": {
            "description": "Not authorized to reset this user's password"
          },
          "404": {
            "description": "User not found"
          }
        },
        "summary": "Trigger password reset for a user",
        "tags": [
          "Users"
        ]
      }
    },
    "/users/forgot-password": {
      "post": {
        "description": "Send a password reset email to the provided email address. If the email exists in the system, a reset link will be sent.",
        "operationId": "UserController_forgotPassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Email address to send reset link to",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Password reset email sent successfully. This response is returned regardless of whether the email exists to prevent email enumeration."
          },
          "400": {
            "description": "Invalid request format or validation errors"
          },
          "500": {
            "description": "Internal server error while processing the request"
          }
        },
        "summary": "Trigger password reset",
        "tags": [
          "Users"
        ]
      }
    },
    "/users/reset-password": {
      "post": {
        "description": "Reset user password using the token received via email. The token must be valid and not expired.",
        "operationId": "UserController_resetPassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Password reset information including token and new password",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Password reset successful."
          },
          "400": {
            "description": "Invalid request format, validation errors, or password requirements not met"
          },
          "401": {
            "description": "Invalid or expired reset token"
          },
          "500": {
            "description": "Internal server error while processing the request"
          }
        },
        "summary": "Reset password with token",
        "tags": [
          "Users"
        ]
      }
    },
    "/users/validate-reset-token": {
      "get": {
        "description": "Validate a password reset token without performing the actual password reset. Used to check if a token is valid before showing the reset form.",
        "operationId": "UserController_validateResetToken",
        "parameters": [
          {
            "name": "token",
            "required": true,
            "in": "query",
            "description": "Password reset token from email",
            "schema": {
              "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Token is valid",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid or expired reset token"
          },
          "500": {
            "description": "Internal server error while processing the request"
          }
        },
        "summary": "Validate password reset token",
        "tags": [
          "Users"
        ]
      }
    },
    "/super-admin/users/{orgId}": {
      "get": {
        "description": "Retrieve paginated users that belong to the specified organization. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminUsersController_getUsersByOrgId",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to get users for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search users by name or email",
            "schema": {
              "example": "john",
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of users to return (default: 25)",
            "schema": {
              "default": 25,
              "example": 25,
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of users to skip (default: 0)",
            "schema": {
              "default": 0,
              "example": 0,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved users in the organization",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedUsersListResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Internal server error occurred while retrieving users"
          }
        },
        "summary": "Get users by organization ID",
        "tags": [
          "Super Admin Users"
        ]
      }
    },
    "/super-admin/users/{userId}": {
      "delete": {
        "description": "Delete a user by their ID. This endpoint is only accessible to super admins and allows deletion of users from any organization.",
        "operationId": "SuperAdminUsersController_deleteUser",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "description": "User ID to delete",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "User successfully deleted"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal server error occurred while deleting user"
          }
        },
        "summary": "Delete a user",
        "tags": [
          "Super Admin Users"
        ]
      }
    },
    "/super-admin/users/{userId}/trigger-password-reset": {
      "post": {
        "description": "Send a password reset email to the specified user. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminUsersController_triggerPasswordReset",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "description": "User ID to send password reset email to",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Password reset email sent successfully"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal server error occurred while sending password reset email"
          }
        },
        "summary": "Trigger password reset for a user",
        "tags": [
          "Super Admin Users"
        ]
      }
    },
    "/super-admin/users/{orgId}/create": {
      "post": {
        "description": "Create a new user in the specified organization with a randomly generated password. A password reset email will be sent to the user. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminUsersController_createUser",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to create the user in",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "User information",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request format or validation errors"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Internal server error occurred while creating user"
          }
        },
        "summary": "Create a new user in an organization",
        "tags": [
          "Super Admin Users"
        ]
      }
    },
    "/invites": {
      "post": {
        "description": "Send an invitation to a user to join an organization with a specific role",
        "operationId": "InvitesController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateInviteDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The invite has been successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateInviteResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid invite data"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create a new invite",
        "tags": [
          "invites"
        ]
      },
      "get": {
        "description": "Retrieve paginated invites with optional search",
        "operationId": "InvitesController_getInvites",
        "parameters": [
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search invites by email",
            "schema": {
              "example": "john@example.com",
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of invites to return (default: 25)",
            "schema": {
              "default": 25,
              "example": 25,
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of invites to skip (default: 0)",
            "schema": {
              "default": 0,
              "example": 0,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns paginated invites for the organization",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedInvitesListResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all invites for current user's organization",
        "tags": [
          "invites"
        ]
      }
    },
    "/invites/bulk": {
      "post": {
        "description": "Send invitations to multiple users. All rows are validated before any are processed.",
        "operationId": "InvitesController_createBulk",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBulkInvitesDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The invites have been processed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateBulkInvitesResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Validation failed for one or more invites"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create multiple invites in bulk",
        "tags": [
          "invites"
        ]
      }
    },
    "/invites/{token}": {
      "get": {
        "description": "Retrieve invite details including organization name by token",
        "operationId": "InvitesController_getInviteByToken",
        "parameters": [
          {
            "name": "token",
            "required": true,
            "in": "path",
            "description": "Token of the invited user",
            "schema": {
              "example": "1234567890",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the invite with organization details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InviteDetailResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Invite not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get a single invite by token",
        "tags": [
          "invites"
        ]
      }
    },
    "/invites/accept": {
      "post": {
        "description": "Accept an invitation using the JWT token",
        "operationId": "InvitesController_acceptInvite",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AcceptInviteDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The invite has been successfully accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AcceptInviteResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid invite token or invite already accepted/expired"
          },
          "404": {
            "description": "Invite not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Accept an invite",
        "tags": [
          "invites"
        ]
      }
    },
    "/invites/{id}/resend": {
      "post": {
        "description": "Delete the expired invite and create a new one with the same details, then send the invitation email",
        "operationId": "InvitesController_resendExpiredInvite",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the expired invite to resend",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The invite has been successfully resent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateInviteResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invite has not expired yet or invalid data"
          },
          "404": {
            "description": "Invite not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Resend an expired invite",
        "tags": [
          "invites"
        ]
      }
    },
    "/invites/all": {
      "delete": {
        "description": "Delete all pending invitations for the organization (Admin only)",
        "operationId": "InvitesController_deleteAllPending",
        "parameters": [],
        "responses": {
          "200": {
            "description": "All pending invites have been deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteAllPendingInvitesResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "Unauthorized - Admin role required"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Delete all pending invites",
        "tags": [
          "invites"
        ]
      }
    },
    "/invites/{id}": {
      "delete": {
        "description": "Delete an invitation (only allowed by the user who created it)",
        "operationId": "InvitesController_deleteInvite",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the invite to delete",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "The invite has been successfully deleted"
          },
          "403": {
            "description": "Unauthorized to delete this invite"
          },
          "404": {
            "description": "Invite not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Delete an invite",
        "tags": [
          "invites"
        ]
      }
    },
    "/subscriptions": {
      "get": {
        "operationId": "SubscriptionsController_getSubscription",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved subscription details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionResponseDtoNullable"
                }
              }
            }
          },
          "403": {
            "description": "User is not authorized to access this organization's subscription"
          },
          "404": {
            "description": "No subscription found for the organization"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get subscription details for the current organization",
        "tags": [
          "subscriptions"
        ]
      },
      "post": {
        "operationId": "SubscriptionsController_createSubscription",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSubscriptionRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successfully created subscription",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid subscription data provided"
          },
          "403": {
            "description": "User is not authorized to create a subscription for this organization"
          },
          "409": {
            "description": "Subscription already exists for this organization"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create a new subscription for the current organization",
        "tags": [
          "subscriptions"
        ]
      },
      "delete": {
        "operationId": "SubscriptionsController_cancelSubscription",
        "parameters": [],
        "responses": {
          "204": {
            "description": "Successfully cancelled subscription"
          },
          "403": {
            "description": "User is not authorized to cancel this organization's subscription"
          },
          "404": {
            "description": "No subscription found for the organization"
          },
          "409": {
            "description": "Subscription is already cancelled"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Cancel the subscription for the current organization",
        "tags": [
          "subscriptions"
        ]
      }
    },
    "/subscriptions/active": {
      "get": {
        "operationId": "SubscriptionsController_hasActiveSubscription",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully checked subscription status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActiveSubscriptionResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Check if the current organization has an active subscription",
        "tags": [
          "subscriptions"
        ]
      }
    },
    "/subscriptions/price": {
      "get": {
        "operationId": "SubscriptionsController_getCurrentPrice",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved current price",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PriceResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Price not configured"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get the current price per seat monthly",
        "tags": [
          "subscriptions"
        ]
      }
    },
    "/subscriptions/seats": {
      "put": {
        "operationId": "SubscriptionsController_updateSeats",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSeatsDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successfully updated seats"
          },
          "400": {
            "description": "Invalid seat update data provided"
          },
          "403": {
            "description": "User is not authorized to update seats for this organization"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Update the number of seats for the current organization",
        "tags": [
          "subscriptions"
        ]
      }
    },
    "/subscriptions/billing-info": {
      "put": {
        "operationId": "SubscriptionsController_updateBillingInfo",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBillingInfoDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successfully updated billing information"
          },
          "400": {
            "description": "Invalid billing information provided"
          },
          "403": {
            "description": "User is not authorized to update billing information for this organization"
          },
          "404": {
            "description": "No subscription found for the organization"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Update the billing information for the current organization",
        "tags": [
          "subscriptions"
        ]
      }
    },
    "/subscriptions/uncancel": {
      "post": {
        "operationId": "SubscriptionsController_uncancelSubscription",
        "parameters": [],
        "responses": {
          "204": {
            "description": "Successfully uncancelled subscription"
          },
          "403": {
            "description": "User is not authorized to uncancel this organization's subscription"
          },
          "404": {
            "description": "No subscription found for the organization"
          },
          "409": {
            "description": "Subscription is not cancelled"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Uncancel the subscription for the current organization",
        "tags": [
          "subscriptions"
        ]
      }
    },
    "/super-admin/subscriptions/{orgId}": {
      "get": {
        "description": "Retrieve subscription details for the specified organization. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminSubscriptionsController_getSubscription",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to get subscription for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved subscription details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionResponseDtoNullable"
                }
              }
            }
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get subscription details for a specific organization",
        "tags": [
          "Super Admin Subscriptions"
        ]
      },
      "post": {
        "description": "Create a new subscription for the specified organization. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminSubscriptionsController_createSubscription",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to create subscription for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSubscriptionRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successfully created subscription",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SubscriptionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid subscription data provided"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "409": {
            "description": "Subscription already exists for this organization"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create a new subscription for a specific organization",
        "tags": [
          "Super Admin Subscriptions"
        ]
      },
      "delete": {
        "description": "Cancel the subscription for the specified organization. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminSubscriptionsController_cancelSubscription",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to cancel subscription for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successfully cancelled subscription"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "No subscription found for the organization"
          },
          "409": {
            "description": "Subscription is already cancelled"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Cancel the subscription for a specific organization",
        "tags": [
          "Super Admin Subscriptions"
        ]
      }
    },
    "/super-admin/subscriptions/{orgId}/seats": {
      "put": {
        "description": "Update the number of seats for the specified organization. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminSubscriptionsController_updateSeats",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to update seats for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSeatsDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successfully updated seats"
          },
          "400": {
            "description": "Invalid seat update data provided"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "No subscription found for the organization"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Update the number of seats for a specific organization",
        "tags": [
          "Super Admin Subscriptions"
        ]
      }
    },
    "/super-admin/subscriptions/{orgId}/billing-info": {
      "put": {
        "description": "Update the billing information for the specified organization. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminSubscriptionsController_updateBillingInfo",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to update billing info for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBillingInfoDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successfully updated billing information"
          },
          "400": {
            "description": "Invalid billing information provided"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "No subscription found for the organization"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Update the billing information for a specific organization",
        "tags": [
          "Super Admin Subscriptions"
        ]
      }
    },
    "/super-admin/subscriptions/{orgId}/uncancel": {
      "post": {
        "description": "Uncancel the subscription for the specified organization. This endpoint is only accessible to super admins.",
        "operationId": "SuperAdminSubscriptionsController_uncancelSubscription",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID to uncancel subscription for",
            "schema": {
              "format": "uuid",
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successfully uncancelled subscription"
          },
          "401": {
            "description": "User not authenticated or not authorized as super admin"
          },
          "404": {
            "description": "No subscription found for the organization"
          },
          "409": {
            "description": "Subscription is not cancelled"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Uncancel the subscription for a specific organization",
        "tags": [
          "Super Admin Subscriptions"
        ]
      }
    },
    "/storage/upload": {
      "post": {
        "description": "Generic file upload endpoint. Stores the file with optional metadata. Validation (file types, sizes) should be handled by consuming modules.",
        "operationId": "StorageController_uploadFile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "file"
                ],
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "The file to upload"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "File uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadFileResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "No file provided or invalid request"
          }
        },
        "summary": "Upload a file to object storage",
        "tags": [
          "storage"
        ]
      }
    },
    "/storage/{objectName}": {
      "get": {
        "operationId": "StorageController_getFile",
        "parameters": [
          {
            "name": "objectName",
            "required": true,
            "in": "path",
            "description": "Name of the object to retrieve",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "storage"
        ]
      },
      "delete": {
        "operationId": "StorageController_deleteFile",
        "parameters": [
          {
            "name": "objectName",
            "required": true,
            "in": "path",
            "description": "Name of the object to delete",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "storage"
        ]
      }
    },
    "/storage/url/{objectName}": {
      "get": {
        "operationId": "StorageController_getPresignedUrl",
        "parameters": [
          {
            "name": "objectName",
            "required": true,
            "in": "path",
            "description": "Name of the object to get URL for",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "storage"
        ]
      }
    },
    "/retrievers/url": {
      "post": {
        "operationId": "UrlRetrieverController_retrieveUrl",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RetrieveUrlDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The content has been successfully retrieved"
          }
        },
        "summary": "Retrieve content from a URL",
        "tags": [
          "retrievers"
        ]
      }
    },
    "/threads": {
      "post": {
        "operationId": "ThreadsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateThreadDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The thread has been successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetThreadResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid model data"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create a new thread",
        "tags": [
          "threads"
        ]
      },
      "get": {
        "operationId": "ThreadsController_findAll",
        "parameters": [
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search threads by title",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "required": false,
            "in": "query",
            "description": "Filter threads by agent ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of threads to return (default: 50)",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of threads to skip (default: 0)",
            "schema": {
              "default": 0,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns paginated threads for the current user",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetThreadsResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all threads for the current user",
        "tags": [
          "threads"
        ]
      }
    },
    "/threads/{id}": {
      "get": {
        "operationId": "ThreadsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the thread to retrieve",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the thread with the specified ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetThreadResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Thread not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get a thread by ID",
        "tags": [
          "threads"
        ]
      },
      "delete": {
        "operationId": "ThreadsController_delete",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the thread to delete",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "The thread has been successfully deleted"
          },
          "404": {
            "description": "Thread not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Delete a thread",
        "tags": [
          "threads"
        ]
      }
    },
    "/threads/{id}/title": {
      "patch": {
        "operationId": "ThreadsController_updateTitle",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the thread to update",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateThreadTitleDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "The thread title has been successfully updated"
          },
          "400": {
            "description": "Invalid title data"
          },
          "404": {
            "description": "Thread not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Update a thread title",
        "tags": [
          "threads"
        ]
      }
    },
    "/threads/{id}/sources": {
      "get": {
        "operationId": "ThreadsController_getThreadSources",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the thread",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns all sources for the thread",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "oneOf": [
                      {
                        "$ref": "#/components/schemas/FileSourceResponseDto"
                      },
                      {
                        "$ref": "#/components/schemas/UrlSourceResponseDto"
                      },
                      {
                        "$ref": "#/components/schemas/CSVDataSourceResponseDto"
                      }
                    ]
                  }
                }
              }
            }
          },
          "404": {
            "description": "Thread not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all sources for a thread",
        "tags": [
          "threads"
        ]
      }
    },
    "/threads/{id}/sources/file": {
      "post": {
        "operationId": "ThreadsController_addFileSource",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the thread",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "The file to upload"
                  },
                  "name": {
                    "type": "string",
                    "description": "The display name for the file source"
                  },
                  "description": {
                    "type": "string",
                    "description": "A description of the file source"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The file source has been successfully added to the thread"
          }
        },
        "summary": "Add a file source to a thread",
        "tags": [
          "threads"
        ]
      }
    },
    "/threads/{id}/sources/{sourceId}": {
      "delete": {
        "operationId": "ThreadsController_removeSource",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the thread",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "sourceId",
            "required": true,
            "in": "path",
            "description": "The UUID of the source to remove",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "The source has been successfully removed from the thread"
          },
          "404": {
            "description": "Thread or source not found"
          }
        },
        "summary": "Remove a source from a thread",
        "tags": [
          "threads"
        ]
      }
    },
    "/threads/{id}/sources/{sourceId}/download": {
      "get": {
        "operationId": "ThreadsController_downloadSource",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the thread",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "sourceId",
            "required": true,
            "in": "path",
            "description": "The UUID of the source to download",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the source as a CSV file",
            "content": {
              "text/csv": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "400": {
            "description": "Source is not a CSV data source"
          },
          "404": {
            "description": "Thread or source not found"
          }
        },
        "summary": "Download a data source as CSV",
        "tags": [
          "threads"
        ]
      }
    },
    "/agents": {
      "post": {
        "operationId": "AgentsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAgentDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The agent has been successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid agent data"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create a new agent",
        "tags": [
          "agents"
        ]
      },
      "get": {
        "operationId": "AgentsController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Returns all agents for the current user",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AgentResponseDto"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all agents for the current user",
        "tags": [
          "agents"
        ]
      }
    },
    "/agents/{id}": {
      "get": {
        "operationId": "AgentsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the agent to retrieve",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the agent with the specified ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Agent not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get an agent by ID",
        "tags": [
          "agents"
        ]
      },
      "put": {
        "operationId": "AgentsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the agent to update",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAgentDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The agent has been successfully updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid agent data"
          },
          "404": {
            "description": "Agent not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Update an agent",
        "tags": [
          "agents"
        ]
      },
      "delete": {
        "operationId": "AgentsController_delete",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the agent to delete",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "The agent has been successfully deleted"
          },
          "404": {
            "description": "Agent not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Delete an agent",
        "tags": [
          "agents"
        ]
      }
    },
    "/agents/{id}/sources": {
      "get": {
        "operationId": "AgentsController_getAgentSources",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the agent",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns all sources for the agent",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AgentSourceResponseDto"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Agent not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all sources for an agent",
        "tags": [
          "agents"
        ]
      }
    },
    "/agents/{id}/sources/file": {
      "post": {
        "operationId": "AgentsController_addFileSource",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the agent",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "The file to upload"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The file source has been successfully added to the agent"
          },
          "400": {
            "description": "Invalid or unsupported file type. Supported types: PDF, DOCX, PPTX, CSV, XLSX, XLS"
          },
          "404": {
            "description": "Agent not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Add a file source to an agent",
        "tags": [
          "agents"
        ]
      }
    },
    "/agents/{id}/sources/{sourceAssignmentId}": {
      "delete": {
        "operationId": "AgentsController_removeSource",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the agent",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "sourceAssignmentId",
            "required": true,
            "in": "path",
            "description": "The UUID of the source assignment to remove",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "The source has been successfully removed from the agent"
          },
          "404": {
            "description": "Agent or source assignment not found"
          }
        },
        "summary": "Remove a source from an agent",
        "tags": [
          "agents"
        ]
      }
    },
    "/agents/{agentId}/mcp-integrations/{integrationId}": {
      "post": {
        "operationId": "AgentsController_assignMcpIntegration",
        "parameters": [
          {
            "name": "agentId",
            "required": true,
            "in": "path",
            "description": "The UUID of the agent",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "integrationId",
            "required": true,
            "in": "path",
            "description": "The UUID of the MCP integration to assign",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "The MCP integration has been successfully assigned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Integration disabled"
          },
          "403": {
            "description": "Integration belongs to different organization"
          },
          "404": {
            "description": "Agent or integration not found"
          },
          "409": {
            "description": "Integration already assigned"
          }
        },
        "summary": "Assign MCP integration to agent",
        "tags": [
          "agents"
        ]
      },
      "delete": {
        "operationId": "AgentsController_unassignMcpIntegration",
        "parameters": [
          {
            "name": "agentId",
            "required": true,
            "in": "path",
            "description": "The UUID of the agent",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "integrationId",
            "required": true,
            "in": "path",
            "description": "The UUID of the MCP integration to unassign",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The MCP integration has been successfully unassigned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Agent not found or integration not assigned"
          }
        },
        "summary": "Unassign MCP integration from agent",
        "tags": [
          "agents"
        ]
      }
    },
    "/agents/{agentId}/mcp-integrations": {
      "get": {
        "operationId": "AgentsController_listAgentMcpIntegrations",
        "parameters": [
          {
            "name": "agentId",
            "required": true,
            "in": "path",
            "description": "The UUID of the agent",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns all MCP integrations assigned to the agent",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/McpIntegrationResponseDto"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Agent not found"
          }
        },
        "summary": "List MCP integrations assigned to agent",
        "tags": [
          "agents"
        ]
      }
    },
    "/shares": {
      "post": {
        "operationId": "SharesController_createShare",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Share creation data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAgentShareDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Share created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "User not authenticated"
          },
          "403": {
            "description": "User cannot create share for this entity"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create a share for an agent",
        "tags": [
          "shares"
        ]
      },
      "get": {
        "operationId": "SharesController_getShares",
        "parameters": [
          {
            "name": "entityId",
            "required": true,
            "in": "query",
            "description": "ID of the entity to get shares for",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "entityType",
            "required": true,
            "in": "query",
            "description": "Type of the entity",
            "schema": {
              "enum": [
                "agent",
                "prompt",
                "skill"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns shares for the specified entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ShareResponseDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User not authenticated"
          },
          "403": {
            "description": "User cannot view shares for this entity"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get shares for an entity",
        "tags": [
          "shares"
        ]
      }
    },
    "/shares/skills": {
      "post": {
        "operationId": "SharesController_createSkillShare",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Skill share creation data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSkillShareDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Share created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "User not authenticated"
          },
          "403": {
            "description": "User cannot create share for this skill"
          }
        },
        "summary": "Create a share for a skill",
        "tags": [
          "shares"
        ]
      }
    },
    "/shares/{id}": {
      "delete": {
        "operationId": "SharesController_deleteShare",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the share to delete",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "The share has been successfully deleted"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Share not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Delete a share",
        "tags": [
          "shares"
        ]
      }
    },
    "/teams": {
      "get": {
        "operationId": "TeamsController_listTeams",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved teams",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TeamResponseDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "403": {
            "description": "User is not authorized to view teams"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "List all teams for the current organization",
        "tags": [
          "teams"
        ]
      },
      "post": {
        "operationId": "TeamsController_createTeam",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTeamDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successfully created team",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeamResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid team data provided"
          },
          "401": {
            "description": "User is not authenticated"
          },
          "403": {
            "description": "User is not authorized to create teams"
          },
          "409": {
            "description": "Team with this name already exists in the organization"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create a new team for the current organization",
        "tags": [
          "teams"
        ]
      }
    },
    "/teams/me": {
      "get": {
        "operationId": "TeamsController_listMyTeams",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully retrieved user teams",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TeamResponseDto"
                  }
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "List teams the current user is a member of",
        "tags": [
          "teams"
        ]
      }
    },
    "/teams/{id}": {
      "get": {
        "operationId": "TeamsController_getTeam",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved team",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeamResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "403": {
            "description": "User is not authorized to view teams"
          },
          "404": {
            "description": "Team not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get a team by ID",
        "tags": [
          "teams"
        ]
      },
      "patch": {
        "operationId": "TeamsController_updateTeam",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTeamDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully updated team",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeamResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid team data provided"
          },
          "401": {
            "description": "User is not authenticated"
          },
          "403": {
            "description": "User is not authorized to update teams"
          },
          "404": {
            "description": "Team not found"
          },
          "409": {
            "description": "Team with this name already exists in the organization"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Update a team in the current organization",
        "tags": [
          "teams"
        ]
      },
      "delete": {
        "operationId": "TeamsController_deleteTeam",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Team successfully deleted"
          },
          "401": {
            "description": "User is not authenticated"
          },
          "403": {
            "description": "User is not authorized to delete teams"
          },
          "404": {
            "description": "Team not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Delete a team from the current organization",
        "tags": [
          "teams"
        ]
      }
    },
    "/teams/{id}/members": {
      "get": {
        "operationId": "TeamsController_listTeamMembers",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of items per page",
            "schema": {
              "default": 50,
              "example": 50,
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of items to skip",
            "schema": {
              "default": 0,
              "example": 0,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved team members",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedTeamMembersResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "User is not authenticated"
          },
          "403": {
            "description": "User is not authorized to view team members"
          },
          "404": {
            "description": "Team not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "List members of a team",
        "tags": [
          "teams"
        ]
      },
      "post": {
        "operationId": "TeamsController_addTeamMember",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddTeamMemberDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successfully added user to team",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeamMemberResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid data provided or user not in same organization"
          },
          "401": {
            "description": "User is not authenticated"
          },
          "403": {
            "description": "User is not authorized to add team members"
          },
          "404": {
            "description": "Team or user not found"
          },
          "409": {
            "description": "User is already a member of the team"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Add a user to a team",
        "tags": [
          "teams"
        ]
      }
    },
    "/teams/{id}/members/{userId}": {
      "delete": {
        "operationId": "TeamsController_removeTeamMember",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "User successfully removed from team"
          },
          "401": {
            "description": "User is not authenticated"
          },
          "403": {
            "description": "User is not authorized to remove team members"
          },
          "404": {
            "description": "Team not found or user is not a member of the team"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Remove a user from a team",
        "tags": [
          "teams"
        ]
      }
    },
    "/mcp-integrations/predefined": {
      "post": {
        "operationId": "McpIntegrationsController_createPredefined",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePredefinedIntegrationDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Integration created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpIntegrationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid slug or missing required fields"
          },
          "404": {
            "description": "Predefined integration slug not found"
          }
        },
        "summary": "Create a new predefined MCP integration",
        "tags": [
          "mcp-integrations"
        ]
      }
    },
    "/mcp-integrations/custom": {
      "post": {
        "operationId": "McpIntegrationsController_createCustom",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCustomIntegrationDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Integration created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpIntegrationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid data"
          }
        },
        "summary": "Create a new custom MCP integration",
        "tags": [
          "mcp-integrations"
        ]
      }
    },
    "/mcp-integrations": {
      "get": {
        "operationId": "McpIntegrationsController_list",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of integrations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/McpIntegrationResponseDto"
                  }
                }
              }
            }
          }
        },
        "summary": "List all MCP integrations for organization",
        "tags": [
          "mcp-integrations"
        ]
      }
    },
    "/mcp-integrations/predefined/available": {
      "get": {
        "operationId": "McpIntegrationsController_listPredefinedConfigs",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of available predefined integrations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PredefinedConfigResponseDto"
                  }
                }
              }
            }
          }
        },
        "summary": "List available predefined MCP integration configurations",
        "tags": [
          "mcp-integrations"
        ]
      }
    },
    "/mcp-integrations/available": {
      "get": {
        "operationId": "McpIntegrationsController_listAvailable",
        "parameters": [],
        "responses": {
          "200": {
            "description": "List of available enabled integrations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/McpIntegrationResponseDto"
                  }
                }
              }
            }
          }
        },
        "summary": "List all available (enabled) MCP integrations for organization",
        "tags": [
          "mcp-integrations"
        ]
      }
    },
    "/mcp-integrations/{id}": {
      "get": {
        "operationId": "McpIntegrationsController_getById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Integration found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpIntegrationResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Integration not found"
          }
        },
        "summary": "Get MCP integration by ID",
        "tags": [
          "mcp-integrations"
        ]
      },
      "patch": {
        "operationId": "McpIntegrationsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMcpIntegrationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Integration updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpIntegrationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid data"
          },
          "404": {
            "description": "Integration not found"
          }
        },
        "summary": "Update MCP integration",
        "tags": [
          "mcp-integrations"
        ]
      },
      "delete": {
        "operationId": "McpIntegrationsController_delete",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Integration deleted successfully"
          },
          "404": {
            "description": "Integration not found"
          }
        },
        "summary": "Delete MCP integration",
        "tags": [
          "mcp-integrations"
        ]
      }
    },
    "/mcp-integrations/{id}/enable": {
      "post": {
        "operationId": "McpIntegrationsController_enable",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Integration enabled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpIntegrationResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Integration not found"
          }
        },
        "summary": "Enable MCP integration",
        "tags": [
          "mcp-integrations"
        ]
      }
    },
    "/mcp-integrations/{id}/disable": {
      "post": {
        "operationId": "McpIntegrationsController_disable",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Integration disabled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpIntegrationResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Integration not found"
          }
        },
        "summary": "Disable MCP integration",
        "tags": [
          "mcp-integrations"
        ]
      }
    },
    "/mcp-integrations/install-from-marketplace": {
      "post": {
        "operationId": "McpIntegrationsController_installFromMarketplace",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InstallMarketplaceIntegrationDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Integration installed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpIntegrationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Missing required config fields or OAuth not supported"
          },
          "404": {
            "description": "Marketplace integration not found"
          }
        },
        "summary": "Install an MCP integration from the marketplace",
        "tags": [
          "mcp-integrations"
        ]
      }
    },
    "/mcp-integrations/{id}/user-config": {
      "get": {
        "operationId": "McpIntegrationsController_getUserConfig",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User configuration (secret values masked)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserConfigResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get current user config for a marketplace MCP integration",
        "tags": [
          "mcp-integrations"
        ]
      },
      "patch": {
        "operationId": "McpIntegrationsController_setUserConfig",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetUserConfigDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User configuration saved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserConfigResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Integration has no user fields"
          },
          "404": {
            "description": "Integration not found"
          }
        },
        "summary": "Set current user config for a marketplace MCP integration",
        "tags": [
          "mcp-integrations"
        ]
      }
    },
    "/mcp-integrations/{id}/validate": {
      "post": {
        "operationId": "McpIntegrationsController_validate",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Validation result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Integration not found"
          }
        },
        "summary": "Validate MCP integration connection",
        "tags": [
          "mcp-integrations"
        ]
      }
    },
    "/marketplace/skills/{identifier}": {
      "get": {
        "operationId": "MarketplaceController_getSkill",
        "parameters": [
          {
            "name": "identifier",
            "required": true,
            "in": "path",
            "description": "The unique identifier slug of the marketplace skill",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the marketplace skill details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MarketplaceSkillResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Marketplace skill not found"
          }
        },
        "summary": "Preview a marketplace skill before installation",
        "tags": [
          "marketplace"
        ]
      }
    },
    "/marketplace/integrations/{identifier}": {
      "get": {
        "operationId": "MarketplaceController_getIntegration",
        "parameters": [
          {
            "name": "identifier",
            "required": true,
            "in": "path",
            "description": "The unique identifier slug of the marketplace integration",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the marketplace integration details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MarketplaceIntegrationResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Marketplace integration not found"
          }
        },
        "summary": "Preview a marketplace integration before installation",
        "tags": [
          "marketplace"
        ]
      }
    },
    "/skills/install-from-marketplace": {
      "post": {
        "operationId": "SkillsController_installFromMarketplace",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InstallSkillFromMarketplaceDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The skill has been successfully installed from the marketplace",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Marketplace skill not found"
          }
        },
        "summary": "Install a skill from the marketplace",
        "tags": [
          "skills"
        ]
      }
    },
    "/skills": {
      "post": {
        "operationId": "SkillsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSkillDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The skill has been successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid skill data"
          },
          "409": {
            "description": "A skill with this name already exists"
          }
        },
        "summary": "Create a new skill",
        "tags": [
          "skills"
        ]
      },
      "get": {
        "operationId": "SkillsController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Returns all skills for the current user",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SkillResponseDto"
                  }
                }
              }
            }
          }
        },
        "summary": "Get all skills for the current user",
        "tags": [
          "skills"
        ]
      }
    },
    "/skills/{id}": {
      "get": {
        "operationId": "SkillsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the skill to retrieve",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the skill with the specified ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Skill not found"
          }
        },
        "summary": "Get a skill by ID",
        "tags": [
          "skills"
        ]
      },
      "put": {
        "operationId": "SkillsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the skill to update",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSkillDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The skill has been successfully updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid skill data"
          },
          "404": {
            "description": "Skill not found"
          },
          "409": {
            "description": "A skill with this name already exists"
          }
        },
        "summary": "Update a skill",
        "tags": [
          "skills"
        ]
      },
      "delete": {
        "operationId": "SkillsController_delete",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the skill to delete",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "The skill has been successfully deleted"
          },
          "404": {
            "description": "Skill not found"
          }
        },
        "summary": "Delete a skill",
        "tags": [
          "skills"
        ]
      }
    },
    "/skills/{id}/toggle-active": {
      "patch": {
        "operationId": "SkillsController_toggleActive",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the skill to toggle",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The skill active status has been toggled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Skill not found"
          }
        },
        "summary": "Toggle skill active/inactive status",
        "tags": [
          "skills"
        ]
      }
    },
    "/skills/{id}/sources": {
      "get": {
        "operationId": "SkillsController_getSkillSources",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the skill",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns all sources for the skill",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SkillSourceResponseDto"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Skill not found"
          }
        },
        "summary": "Get all sources for a skill",
        "tags": [
          "skills"
        ]
      }
    },
    "/skills/{id}/sources/file": {
      "post": {
        "operationId": "SkillsController_addFileSource",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the skill",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "The file to upload"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The file source has been successfully added to the skill",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid or unsupported file type"
          },
          "404": {
            "description": "Skill not found"
          }
        },
        "summary": "Add a file source to a skill",
        "tags": [
          "skills"
        ]
      }
    },
    "/skills/{id}/sources/{sourceId}": {
      "delete": {
        "operationId": "SkillsController_removeSource",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the skill",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "sourceId",
            "required": true,
            "in": "path",
            "description": "The UUID of the source to remove",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "The source has been successfully removed from the skill"
          },
          "404": {
            "description": "Skill or source not found"
          }
        },
        "summary": "Remove a source from a skill",
        "tags": [
          "skills"
        ]
      }
    },
    "/skills/{skillId}/mcp-integrations/{integrationId}": {
      "post": {
        "operationId": "SkillsController_assignMcpIntegration",
        "parameters": [
          {
            "name": "skillId",
            "required": true,
            "in": "path",
            "description": "The UUID of the skill",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "integrationId",
            "required": true,
            "in": "path",
            "description": "The UUID of the MCP integration to assign",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "The MCP integration has been successfully assigned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Skill or integration not found"
          },
          "409": {
            "description": "Integration already assigned"
          }
        },
        "summary": "Assign MCP integration to skill",
        "tags": [
          "skills"
        ]
      },
      "delete": {
        "operationId": "SkillsController_unassignMcpIntegration",
        "parameters": [
          {
            "name": "skillId",
            "required": true,
            "in": "path",
            "description": "The UUID of the skill",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "integrationId",
            "required": true,
            "in": "path",
            "description": "The UUID of the MCP integration to unassign",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The MCP integration has been successfully unassigned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SkillResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Skill not found or integration not assigned"
          }
        },
        "summary": "Unassign MCP integration from skill",
        "tags": [
          "skills"
        ]
      }
    },
    "/skills/{skillId}/mcp-integrations": {
      "get": {
        "operationId": "SkillsController_listSkillMcpIntegrations",
        "parameters": [
          {
            "name": "skillId",
            "required": true,
            "in": "path",
            "description": "The UUID of the skill",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns all MCP integrations assigned to the skill",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/McpIntegrationResponseDto"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Skill not found"
          }
        },
        "summary": "List MCP integrations assigned to skill",
        "tags": [
          "skills"
        ]
      }
    },
    "/runs/send-message": {
      "post": {
        "description": "Sends a user message (with optional image attachments) and returns a server-sent events stream with the AI response. Images are processed transactionally with the message.",
        "operationId": "RunsController_sendMessage",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "threadId"
                ],
                "properties": {
                  "threadId": {
                    "type": "string",
                    "format": "uuid"
                  },
                  "text": {
                    "type": "string",
                    "description": "Message text (optional if images provided)"
                  },
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "Image files to attach (max 10, max 10MB each, 50MB total)"
                  },
                  "imageAltTexts": {
                    "type": "string",
                    "description": "JSON array of alt texts matching image order"
                  },
                  "toolResult": {
                    "type": "string",
                    "description": "JSON object for tool result input"
                  },
                  "streaming": {
                    "type": "boolean",
                    "default": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Server-sent events stream with discriminated response types",
            "content": {
              "text/event-stream": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/RunSessionResponseDto"
                    },
                    {
                      "$ref": "#/components/schemas/RunMessageResponseDto"
                    },
                    {
                      "$ref": "#/components/schemas/RunErrorResponseDto"
                    },
                    {
                      "$ref": "#/components/schemas/RunThreadResponseDto"
                    }
                  ],
                  "discriminator": {
                    "propertyName": "type",
                    "mapping": {
                      "session": "#/components/schemas/RunSessionResponseDto",
                      "message": "#/components/schemas/RunMessageResponseDto",
                      "error": "#/components/schemas/RunErrorResponseDto",
                      "thread": "#/components/schemas/RunThreadResponseDto"
                    }
                  }
                },
                "examples": {
                  "session-event": {
                    "summary": "Session establishment event",
                    "value": {
                      "type": "session",
                      "success": true,
                      "threadId": "123e4567-e89b-12d3-a456-426614174000",
                      "timestamp": "2024-01-01T12:00:00.000Z",
                      "streaming": true
                    }
                  },
                  "message-event": {
                    "summary": "Message event",
                    "value": {
                      "type": "message",
                      "message": {
                        "id": "123e4567-e89b-12d3-a456-426614174000",
                        "threadId": "123e4567-e89b-12d3-a456-426614174000",
                        "role": "assistant",
                        "content": [
                          {
                            "type": "text",
                            "text": "Hello!"
                          }
                        ],
                        "createdAt": "2024-01-01T12:00:00.000Z"
                      },
                      "threadId": "123e4567-e89b-12d3-a456-426614174000",
                      "timestamp": "2024-01-01T12:00:00.000Z"
                    }
                  },
                  "error-event": {
                    "summary": "Error event",
                    "value": {
                      "type": "error",
                      "message": "An error occurred while processing your request",
                      "threadId": "123e4567-e89b-12d3-a456-426614174000",
                      "timestamp": "2024-01-01T12:00:00.000Z",
                      "code": "EXECUTION_ERROR"
                    }
                  },
                  "thread-event": {
                    "summary": "Thread update event",
                    "value": {
                      "type": "thread",
                      "threadId": "123e4567-e89b-12d3-a456-426614174000",
                      "updateType": "title_updated",
                      "title": "Discussion about AI and machine learning",
                      "timestamp": "2024-01-01T12:00:00.000Z"
                    }
                  }
                }
              }
            },
            "headers": {
              "Content-Type": {
                "description": "Content type for server-sent events",
                "schema": {
                  "type": "string",
                  "example": "text/event-stream"
                }
              },
              "Cache-Control": {
                "description": "Cache control header",
                "schema": {
                  "type": "string",
                  "example": "no-cache"
                }
              },
              "Connection": {
                "description": "Connection type",
                "schema": {
                  "type": "string",
                  "example": "keep-alive"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request payload"
          },
          "403": {
            "description": "Subscription required"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Send a message with optional images and receive streaming response",
        "tags": [
          "runs"
        ]
      }
    },
    "/super-admin/trials": {
      "post": {
        "description": "Create a new trial for an organization. Only accessible to users with the super admin system role.",
        "operationId": "SuperAdminTrialsController_createTrial",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Trial information",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTrialRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successfully created trial for the super admin.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuperAdminTrialResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request format or validation errors."
          },
          "403": {
            "description": "The requester is not a super admin."
          }
        },
        "summary": "Create a new trial",
        "tags": [
          "Super Admin Trials"
        ]
      }
    },
    "/super-admin/trials/{orgId}": {
      "get": {
        "description": "Retrieve a trial by its organization ID. Only accessible to users with the super admin system role.",
        "operationId": "SuperAdminTrialsController_getTrialByOrgId",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "The organization ID of the trial to retrieve.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved trial for the super admin.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuperAdminTrialResponseDtoNullable"
                }
              }
            }
          },
          "400": {
            "description": "Trial not found for the organization."
          },
          "403": {
            "description": "The requester is not a super admin."
          }
        },
        "summary": "Get a trial by organization ID",
        "tags": [
          "Super Admin Trials"
        ]
      },
      "put": {
        "description": "Update a trial for an organization. Can update maxMessages and/or messagesSent. Only accessible to users with the super admin system role.",
        "operationId": "SuperAdminTrialsController_updateTrial",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "The organization ID of the trial to update.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Trial update information",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTrialRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully updated trial for the super admin.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuperAdminTrialResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request format or validation errors."
          },
          "403": {
            "description": "The requester is not a super admin."
          }
        },
        "summary": "Update a trial",
        "tags": [
          "Super Admin Trials"
        ]
      }
    },
    "/usage/config": {
      "get": {
        "description": "Returns configuration settings for the usage dashboard, including deployment mode. This endpoint helps the frontend determine which features to show based on the deployment type.",
        "operationId": "UsageController_getUsageConfig",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Usage configuration retrieved successfully. Returns deployment mode information.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UsageConfigResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get usage dashboard configuration",
        "tags": [
          "Admin Usage"
        ]
      }
    },
    "/usage/stats": {
      "get": {
        "description": "Returns aggregated usage statistics including total tokens, requests, and active users. Dates are optional - if not provided, shows all usage.",
        "operationId": "UsageController_getUsageStats",
        "parameters": [
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "description": "Start date in ISO format. If provided, must be used with endDate.",
            "schema": {
              "example": "2024-01-01T00:00:00.000Z",
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "description": "End date in ISO format. If provided, must be used with startDate.",
            "schema": {
              "example": "2024-01-31T23:59:59.999Z",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Usage statistics retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UsageStatsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get overall usage statistics",
        "tags": [
          "Admin Usage"
        ]
      }
    },
    "/usage/providers": {
      "get": {
        "description": "Returns usage statistics grouped by model provider (OpenAI, Anthropic, etc.) with optional time series data for trend analysis. Useful for provider comparison charts. Dates are optional - if not provided, shows all usage.",
        "operationId": "UsageController_getProviderUsage",
        "parameters": [
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "description": "Start date in ISO format",
            "schema": {
              "example": "2024-01-01T00:00:00.000Z",
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "description": "End date in ISO format",
            "schema": {
              "example": "2024-01-31T23:59:59.999Z",
              "type": "string"
            }
          },
          {
            "name": "includeTimeSeries",
            "required": false,
            "in": "query",
            "description": "Whether to include time series data for trend charts. Defaults to true.",
            "schema": {
              "example": true,
              "type": "boolean"
            }
          },
          {
            "name": "provider",
            "required": false,
            "in": "query",
            "description": "Filter by provider (e.g., openai, anthropic)",
            "schema": {
              "example": "openai",
              "type": "string"
            }
          },
          {
            "name": "modelId",
            "required": false,
            "in": "query",
            "description": "Filter by model ID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Provider usage statistics retrieved successfully. Includes percentage distribution and optional time series data.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderUsageResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get usage statistics by provider",
        "tags": [
          "Admin Usage"
        ]
      }
    },
    "/usage/providers/chart": {
      "get": {
        "description": "Returns rows aligned by date with tokens per provider. Shape: { timeSeries: [{ date, values: { [provider]: tokens } }] }",
        "operationId": "UsageController_getProviderUsageChart",
        "parameters": [
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "provider",
            "required": false,
            "in": "query",
            "description": "Filter by provider (e.g., openai, anthropic)",
            "schema": {
              "example": "openai",
              "type": "string"
            }
          },
          {
            "name": "modelId",
            "required": false,
            "in": "query",
            "description": "Filter by model ID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Chart-ready provider time series",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderUsageChartResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get provider usage time series aligned by date (chart-ready)",
        "tags": [
          "Admin Usage"
        ]
      }
    },
    "/usage/models": {
      "get": {
        "description": "Returns usage statistics grouped by individual models with percentage distribution. Dates are optional - if not provided, shows all usage.",
        "operationId": "UsageController_getModelDistribution",
        "parameters": [
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "description": "Start date in ISO format",
            "schema": {
              "example": "2024-01-01T00:00:00.000Z",
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "description": "End date in ISO format",
            "schema": {
              "example": "2024-01-31T23:59:59.999Z",
              "type": "string"
            }
          },
          {
            "name": "maxModels",
            "required": false,
            "in": "query",
            "description": "Maximum number of models to return. Defaults to 10. Frontend can decide how to handle aggregation if needed.",
            "schema": {
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "modelId",
            "required": false,
            "in": "query",
            "description": "Filter by model ID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Model usage distribution retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelDistributionResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get usage distribution by model",
        "tags": [
          "Admin Usage"
        ]
      }
    },
    "/usage/users": {
      "get": {
        "description": "Returns paginated user usage statistics with search, sorting, and filtering capabilities. Includes activity status. Dates are optional - if not provided, shows all usage.",
        "operationId": "UsageController_getUserUsage",
        "parameters": [
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "description": "Start date in ISO format",
            "schema": {
              "example": "2024-01-01T00:00:00.000Z",
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "description": "End date in ISO format",
            "schema": {
              "example": "2024-01-31T23:59:59.999Z",
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of users per page (1-1000). Defaults to 50.",
            "schema": {
              "example": 50,
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of users to skip for pagination. Defaults to 0.",
            "schema": {
              "example": 0,
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search term to filter users by name or email",
            "schema": {
              "example": "john.doe",
              "type": "string"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Field to sort users by. Defaults to tokens.",
            "schema": {
              "enum": [
                "tokens",
                "requests",
                "lastActivity",
                "userName"
              ],
              "type": "string"
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order (ascending or descending). Defaults to desc.",
            "schema": {
              "enum": [
                "asc",
                "desc"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User usage statistics retrieved successfully. Includes pagination metadata.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserUsageResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get usage statistics by user",
        "tags": [
          "Admin Usage"
        ]
      }
    },
    "/super-admin/usage/{orgId}/config": {
      "get": {
        "operationId": "SuperAdminUsageController_getUsageConfig",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID",
            "schema": {
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UsageConfigResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get usage dashboard configuration for an organization",
        "tags": [
          "Super Admin Usage"
        ]
      }
    },
    "/super-admin/usage/{orgId}/stats": {
      "get": {
        "operationId": "SuperAdminUsageController_getUsageStats",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UsageStatsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get overall usage statistics for an organization",
        "tags": [
          "Super Admin Usage"
        ]
      }
    },
    "/super-admin/usage/{orgId}/models": {
      "get": {
        "operationId": "SuperAdminUsageController_getModelDistribution",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "maxModels",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "modelId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelDistributionResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get usage distribution by model for an organization",
        "tags": [
          "Super Admin Usage"
        ]
      }
    },
    "/super-admin/usage/{orgId}/providers": {
      "get": {
        "operationId": "SuperAdminUsageDataController_getProviderUsage",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "includeTimeSeries",
            "required": false,
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "provider",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "modelId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderUsageResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get usage statistics by provider for an organization",
        "tags": [
          "Super Admin Usage"
        ]
      }
    },
    "/super-admin/usage/{orgId}/providers/chart": {
      "get": {
        "operationId": "SuperAdminUsageDataController_getProviderUsageChart",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "provider",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "modelId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderUsageChartResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get provider usage time series for an organization (chart-ready)",
        "tags": [
          "Super Admin Usage"
        ]
      }
    },
    "/super-admin/usage/{orgId}/users": {
      "get": {
        "operationId": "SuperAdminUsageDataController_getUserUsage",
        "parameters": [
          {
            "name": "orgId",
            "required": true,
            "in": "path",
            "description": "Organization ID",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          },
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "tokens",
                "requests",
                "lastActivity",
                "userName"
              ],
              "type": "string"
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "asc",
                "desc"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserUsageResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get usage statistics by user for an organization",
        "tags": [
          "Super Admin Usage"
        ]
      }
    },
    "/super-admin/global-usage/providers/chart": {
      "get": {
        "operationId": "SuperAdminGlobalUsageController_getGlobalProviderUsageChart",
        "parameters": [
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "provider",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "modelId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderUsageChartResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get global provider usage time series across all organizations (chart-ready)",
        "tags": [
          "Super Admin Global Usage"
        ]
      }
    },
    "/super-admin/global-usage/models": {
      "get": {
        "operationId": "SuperAdminGlobalUsageController_getGlobalModelDistribution",
        "parameters": [
          {
            "name": "startDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "endDate",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "modelId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelDistributionResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get global model distribution across all organizations",
        "tags": [
          "Super Admin Global Usage"
        ]
      }
    },
    "/chat-settings/system-prompt": {
      "get": {
        "description": "Returns the custom system prompt for the authenticated user, or null if not set.",
        "operationId": "ChatSettingsController_getSystemPrompt",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The user system prompt",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSystemPromptResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get the user system prompt",
        "tags": [
          "Chat Settings"
        ]
      },
      "put": {
        "description": "Creates or replaces the custom system prompt for the authenticated user.",
        "operationId": "ChatSettingsController_upsertSystemPrompt",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpsertUserSystemPromptDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully set or updated the user system prompt",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserSystemPromptResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request payload"
          }
        },
        "summary": "Set or update the user system prompt",
        "tags": [
          "Chat Settings"
        ]
      },
      "delete": {
        "description": "Deletes the custom system prompt for the authenticated user.",
        "operationId": "ChatSettingsController_deleteSystemPrompt",
        "parameters": [],
        "responses": {
          "204": {
            "description": "Successfully deleted the user system prompt"
          }
        },
        "summary": "Delete the user system prompt",
        "tags": [
          "Chat Settings"
        ]
      }
    },
    "/prompts": {
      "post": {
        "operationId": "PromptsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePromptDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The prompt has been successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid prompt data"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Create a new prompt",
        "tags": [
          "prompts"
        ]
      },
      "get": {
        "operationId": "PromptsController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Returns all prompts for the current user",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PromptResponseDto"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get all prompts for the current user",
        "tags": [
          "prompts"
        ]
      }
    },
    "/prompts/{id}": {
      "get": {
        "operationId": "PromptsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the prompt to retrieve",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the prompt with the specified ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Prompt not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Get a prompt by ID",
        "tags": [
          "prompts"
        ]
      },
      "put": {
        "operationId": "PromptsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the prompt to update",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePromptDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The prompt has been successfully updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid prompt data"
          },
          "404": {
            "description": "Prompt not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Update a prompt",
        "tags": [
          "prompts"
        ]
      },
      "delete": {
        "operationId": "PromptsController_delete",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The UUID of the prompt to delete",
            "schema": {
              "format": "uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "The prompt has been successfully deleted"
          },
          "404": {
            "description": "Prompt not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "summary": "Delete a prompt",
        "tags": [
          "prompts"
        ]
      }
    },
    "/transcriptions": {
      "post": {
        "description": "Upload an audio file and receive the transcribed text. Supports webm, mp4, mp3, wav, and m4a formats.",
        "operationId": "TranscriptionsController_transcribe",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "file"
                ],
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "The audio file to transcribe"
                  },
                  "language": {
                    "type": "string",
                    "description": "Optional language hint (e.g., \"en\", \"de\")",
                    "example": "en"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Audio successfully transcribed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TranscriptionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request or unsupported audio format"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Transcription failed"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Transcribe audio file to text",
        "tags": [
          "transcriptions"
        ]
      }
    },
    "/auth/login": {
      "post": {
        "description": "Authenticate user with email and password. Sets authentication cookies on successful login.",
        "operationId": "AuthenticationController_login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "User credentials for authentication",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful. Authentication cookies are set.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "User login",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/auth/register": {
      "post": {
        "description": "Register a new user account with email, password, and organization name. Automatically logs in the user and sets authentication cookies.",
        "operationId": "AuthenticationController_register",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "User registration information",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Registration successful. User is automatically logged in and authentication cookies are set.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request format or validation errors",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "409": {
            "description": "User with this email already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "User registration",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/auth/refresh": {
      "post": {
        "description": "Refresh expired access tokens using the refresh token stored in cookies. Returns new authentication cookies.",
        "operationId": "AuthenticationController_refresh",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Token refresh successful. New authentication cookies are set.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or expired refresh token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Authentication configuration error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "refreshToken": []
          }
        ],
        "summary": "Refresh authentication tokens",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/auth/me": {
      "get": {
        "description": "Get the current authenticated user's email and role. If access token is expired but refresh token is valid, automatically refreshes tokens and sets new cookies.",
        "operationId": "AuthenticationController_me",
        "parameters": [],
        "responses": {
          "200": {
            "description": "User information retrieved successfully. If tokens were refreshed, new cookies are set.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MeResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Not authenticated - no valid tokens found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Authentication configuration error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get current user information",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/auth/logout": {
      "post": {
        "description": "Log out the current user by clearing authentication cookies.",
        "operationId": "AuthenticationController_logout",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Logout successful. Authentication cookies are cleared.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseDto"
                }
              }
            }
          }
        },
        "summary": "User logout",
        "tags": [
          "Authentication"
        ]
      }
    }
  },
  "info": {
    "title": "Ayunis Core API",
    "description": "The Ayunis Core API description",
    "version": "1.0",
    "contact": {}
  },
  "tags": [
    {
      "name": "ayunis",
      "description": ""
    }
  ],
  "servers": [],
  "components": {
    "schemas": {
      "IsCloudResponseDto": {
        "type": "object",
        "properties": {
          "isCloud": {
            "type": "boolean",
            "description": "Whether the deployment is running in a cloud environment",
            "example": true
          },
          "isRegistrationDisabled": {
            "type": "boolean",
            "description": "Whether new user registration is disabled",
            "example": false
          }
        },
        "required": [
          "isCloud",
          "isRegistrationDisabled"
        ]
      },
      "ModelWithConfigResponseDto": {
        "type": "object",
        "properties": {
          "modelId": {
            "type": "string",
            "description": "The id of the model"
          },
          "permittedModelId": {
            "type": "string",
            "description": "The id of the model. Null if the model is not permitted.",
            "nullable": true
          },
          "name": {
            "type": "string",
            "description": "The name of the model"
          },
          "provider": {
            "type": "string",
            "enum": [
              "openai",
              "anthropic",
              "bedrock",
              "mistral",
              "ollama",
              "synaforce",
              "ayunis",
              "otc",
              "azure",
              "gemini",
              "stackit"
            ],
            "description": "The provider of the model"
          },
          "displayName": {
            "type": "string",
            "description": "The display name of the model"
          },
          "canStream": {
            "type": "boolean",
            "description": "Whether the model can stream"
          },
          "isReasoning": {
            "type": "boolean",
            "description": "Whether the model can reason"
          },
          "canUseTools": {
            "type": "boolean",
            "description": "Whether the model can use tools"
          },
          "canVision": {
            "type": "boolean",
            "description": "Whether the model supports vision (image processing)"
          },
          "isPermitted": {
            "type": "boolean",
            "description": "Whether the model is permitted to be used"
          },
          "isDefault": {
            "type": "boolean",
            "description": "Whether the model is the default model"
          },
          "isEmbedding": {
            "type": "boolean",
            "description": "Whether the model is an embedding model"
          },
          "anonymousOnly": {
            "type": "boolean",
            "description": "Whether this model enforces anonymous mode. Null if not permitted.",
            "nullable": true
          }
        },
        "required": [
          "modelId",
          "permittedModelId",
          "name",
          "provider",
          "displayName",
          "canStream",
          "isReasoning",
          "canUseTools",
          "canVision",
          "isPermitted",
          "isDefault",
          "isEmbedding",
          "anonymousOnly"
        ]
      },
      "ModelProviderInfoResponseDto": {
        "type": "object",
        "properties": {
          "provider": {
            "type": "string",
            "enum": [
              "openai",
              "anthropic",
              "bedrock",
              "mistral",
              "ollama",
              "synaforce",
              "ayunis",
              "otc",
              "azure",
              "gemini",
              "stackit"
            ],
            "description": "The model provider identifier",
            "example": "openai"
          },
          "displayName": {
            "type": "string",
            "description": "The display name of the model provider",
            "example": "OpenAI"
          },
          "hostedIn": {
            "type": "string",
            "enum": [
              "DE",
              "EU",
              "US",
              "SELF_HOSTED",
              "AYUNIS"
            ],
            "description": "The location where the provider hosts their services",
            "example": "US"
          }
        },
        "required": [
          "provider",
          "displayName",
          "hostedIn"
        ]
      },
      "CreatePermittedModelDto": {
        "type": "object",
        "properties": {
          "modelId": {
            "type": "string",
            "description": "The id of the model",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "anonymousOnly": {
            "type": "boolean",
            "description": "Whether this model should enforce anonymous mode",
            "example": false,
            "default": false
          }
        },
        "required": [
          "modelId"
        ]
      },
      "UpdatePermittedModelDto": {
        "type": "object",
        "properties": {
          "anonymousOnly": {
            "type": "boolean",
            "description": "Whether this model should enforce anonymous mode",
            "example": true
          }
        },
        "required": [
          "anonymousOnly"
        ]
      },
      "PermittedLanguageModelResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The id of the permitted model"
          },
          "name": {
            "type": "string",
            "description": "The name of the model"
          },
          "provider": {
            "type": "string",
            "enum": [
              "openai",
              "anthropic",
              "bedrock",
              "mistral",
              "ollama",
              "synaforce",
              "ayunis",
              "otc",
              "azure",
              "gemini",
              "stackit"
            ],
            "description": "The provider of the model"
          },
          "providerDisplayName": {
            "type": "string",
            "description": "The display name of the provider"
          },
          "displayName": {
            "type": "string",
            "description": "The display name of the model"
          },
          "type": {
            "type": "string",
            "enum": [
              "language"
            ],
            "description": "The type of the model (always language)"
          },
          "isArchived": {
            "type": "boolean",
            "description": "Whether the model is archived"
          },
          "canStream": {
            "type": "boolean",
            "description": "Whether the model can stream"
          },
          "isReasoning": {
            "type": "boolean",
            "description": "Whether the model can reason"
          },
          "canVision": {
            "type": "boolean",
            "description": "Whether the model supports vision (image processing)"
          },
          "anonymousOnly": {
            "type": "boolean",
            "description": "Whether this model enforces anonymous mode"
          }
        },
        "required": [
          "id",
          "name",
          "provider",
          "providerDisplayName",
          "displayName",
          "type",
          "isArchived",
          "canStream",
          "isReasoning",
          "canVision",
          "anonymousOnly"
        ]
      },
      "PermittedLanguageModelResponseDtoNullable": {
        "type": "object",
        "properties": {
          "permittedLanguageModel": {
            "description": "The permitted language model",
            "nullable": true,
            "allOf": [
              {
                "$ref": "#/components/schemas/PermittedLanguageModelResponseDto"
              }
            ]
          }
        },
        "required": [
          "permittedLanguageModel"
        ]
      },
      "SetUserDefaultModelDto": {
        "type": "object",
        "properties": {
          "permittedModelId": {
            "type": "string",
            "description": "The ID of the permitted model to set as default",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          }
        },
        "required": [
          "permittedModelId"
        ]
      },
      "SetOrgDefaultModelDto": {
        "type": "object",
        "properties": {
          "permittedModelId": {
            "type": "string",
            "description": "The ID of the permitted model to set as organization default",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          }
        },
        "required": [
          "permittedModelId"
        ]
      },
      "EmbeddingModelEnabledResponseDto": {
        "type": "object",
        "properties": {
          "isEmbeddingModelEnabled": {
            "type": "boolean",
            "description": "Whether the organization has an embedding model enabled",
            "example": true
          }
        },
        "required": [
          "isEmbeddingModelEnabled"
        ]
      },
      "PermittedEmbeddingModelResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The id of the permitted model"
          },
          "name": {
            "type": "string",
            "description": "The name of the model"
          },
          "provider": {
            "type": "string",
            "enum": [
              "openai",
              "anthropic",
              "bedrock",
              "mistral",
              "ollama",
              "synaforce",
              "ayunis",
              "otc",
              "azure",
              "gemini",
              "stackit"
            ],
            "description": "The provider of the model"
          },
          "providerDisplayName": {
            "type": "string",
            "description": "The display name of the provider"
          },
          "displayName": {
            "type": "string",
            "description": "The display name of the model"
          },
          "type": {
            "type": "string",
            "enum": [
              "embedding"
            ],
            "description": "The type of the model (always embedding)"
          },
          "isArchived": {
            "type": "boolean",
            "description": "Whether the model is archived"
          },
          "dimensions": {
            "type": "number",
            "description": "The number of dimensions for embeddings",
            "nullable": true
          }
        },
        "required": [
          "id",
          "name",
          "provider",
          "providerDisplayName",
          "displayName",
          "type",
          "isArchived",
          "dimensions"
        ]
      },
      "CreateLanguageModelRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the model",
            "example": "gpt-4"
          },
          "provider": {
            "type": "string",
            "description": "The provider of the model",
            "enum": [
              "openai",
              "anthropic",
              "bedrock",
              "mistral",
              "ollama",
              "synaforce",
              "ayunis",
              "otc",
              "azure",
              "gemini",
              "stackit"
            ],
            "example": "openai"
          },
          "displayName": {
            "type": "string",
            "description": "The display name of the model",
            "example": "GPT-4"
          },
          "canStream": {
            "type": "boolean",
            "description": "Whether the model supports streaming",
            "example": true
          },
          "canUseTools": {
            "type": "boolean",
            "description": "Whether the model supports tool use",
            "example": true
          },
          "isReasoning": {
            "type": "boolean",
            "description": "Whether the model has reasoning capabilities",
            "example": false
          },
          "canVision": {
            "type": "boolean",
            "description": "Whether the model supports vision (image processing)",
            "example": false
          },
          "isArchived": {
            "type": "boolean",
            "description": "Whether the model is archived",
            "example": false
          }
        },
        "required": [
          "name",
          "provider",
          "displayName",
          "canStream",
          "canUseTools",
          "isReasoning",
          "canVision",
          "isArchived"
        ]
      },
      "UpdateLanguageModelRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the model",
            "example": "gpt-4"
          },
          "provider": {
            "type": "string",
            "description": "The provider of the model",
            "enum": [
              "openai",
              "anthropic",
              "bedrock",
              "mistral",
              "ollama",
              "synaforce",
              "ayunis",
              "otc",
              "azure",
              "gemini",
              "stackit"
            ],
            "example": "openai"
          },
          "displayName": {
            "type": "string",
            "description": "The display name of the model",
            "example": "GPT-4"
          },
          "canStream": {
            "type": "boolean",
            "description": "Whether the model supports streaming",
            "example": true
          },
          "canUseTools": {
            "type": "boolean",
            "description": "Whether the model supports tool use",
            "example": true
          },
          "isReasoning": {
            "type": "boolean",
            "description": "Whether the model has reasoning capabilities",
            "example": false
          },
          "canVision": {
            "type": "boolean",
            "description": "Whether the model supports vision (image processing)",
            "example": false
          },
          "isArchived": {
            "type": "boolean",
            "description": "Whether the model is archived",
            "example": false
          }
        },
        "required": [
          "name",
          "provider",
          "displayName",
          "canStream",
          "canUseTools",
          "isReasoning",
          "canVision",
          "isArchived"
        ]
      },
      "CreateEmbeddingModelRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the model",
            "example": "text-embedding-3-small"
          },
          "provider": {
            "type": "string",
            "description": "The provider of the model",
            "enum": [
              "openai",
              "anthropic",
              "bedrock",
              "mistral",
              "ollama",
              "synaforce",
              "ayunis",
              "otc",
              "azure",
              "gemini",
              "stackit"
            ],
            "example": "openai"
          },
          "displayName": {
            "type": "string",
            "description": "The display name of the model",
            "example": "Text Embedding 3 Small"
          },
          "dimensions": {
            "type": "number",
            "description": "The dimensions of the embedding",
            "enum": [
              1024,
              1536,
              2560
            ],
            "example": 1536
          },
          "isArchived": {
            "type": "boolean",
            "description": "Whether the model is archived",
            "example": false
          }
        },
        "required": [
          "name",
          "provider",
          "displayName",
          "dimensions",
          "isArchived"
        ]
      },
      "UpdateEmbeddingModelRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the model",
            "example": "text-embedding-3-small"
          },
          "provider": {
            "type": "string",
            "description": "The provider of the model",
            "enum": [
              "openai",
              "anthropic",
              "bedrock",
              "mistral",
              "ollama",
              "synaforce",
              "ayunis",
              "otc",
              "azure",
              "gemini",
              "stackit"
            ],
            "example": "openai"
          },
          "displayName": {
            "type": "string",
            "description": "The display name of the model",
            "example": "Text Embedding 3 Small"
          },
          "dimensions": {
            "type": "number",
            "description": "The dimensions of the embedding",
            "enum": [
              1024,
              1536,
              2560
            ],
            "example": 1536
          },
          "isArchived": {
            "type": "boolean",
            "description": "Whether the model is archived",
            "example": false
          }
        },
        "required": [
          "name",
          "provider",
          "displayName",
          "dimensions",
          "isArchived"
        ]
      },
      "LanguageModelResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "The unique identifier of the model",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "name": {
            "type": "string",
            "description": "The name of the model",
            "example": "gpt-4"
          },
          "provider": {
            "type": "string",
            "enum": [
              "openai",
              "anthropic",
              "bedrock",
              "mistral",
              "ollama",
              "synaforce",
              "ayunis",
              "otc",
              "azure",
              "gemini",
              "stackit"
            ],
            "description": "The provider of the model",
            "example": "openai"
          },
          "displayName": {
            "type": "string",
            "description": "The display name of the model",
            "example": "GPT-4"
          },
          "type": {
            "type": "string",
            "enum": [
              "language"
            ],
            "description": "The type of the model (always language)"
          },
          "isArchived": {
            "type": "boolean",
            "description": "Whether the model is archived",
            "example": false
          },
          "canStream": {
            "type": "boolean",
            "description": "Whether the model supports streaming",
            "example": true
          },
          "canUseTools": {
            "type": "boolean",
            "description": "Whether the model supports tool use",
            "example": true
          },
          "isReasoning": {
            "type": "boolean",
            "description": "Whether the model has reasoning capabilities",
            "example": false
          },
          "canVision": {
            "type": "boolean",
            "description": "Whether the model supports vision (image processing)",
            "example": false
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "The date the model was created"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "The date the model was last updated"
          }
        },
        "required": [
          "id",
          "name",
          "provider",
          "displayName",
          "type",
          "isArchived",
          "canStream",
          "canUseTools",
          "isReasoning",
          "canVision",
          "createdAt",
          "updatedAt"
        ]
      },
      "EmbeddingModelResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "The unique identifier of the model",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "name": {
            "type": "string",
            "description": "The name of the model",
            "example": "text-embedding-3-small"
          },
          "provider": {
            "type": "string",
            "enum": [
              "openai",
              "anthropic",
              "bedrock",
              "mistral",
              "ollama",
              "synaforce",
              "ayunis",
              "otc",
              "azure",
              "gemini",
              "stackit"
            ],
            "description": "The provider of the model",
            "example": "openai"
          },
          "displayName": {
            "type": "string",
            "description": "The display name of the model",
            "example": "Text Embedding 3 Small"
          },
          "type": {
            "type": "string",
            "enum": [
              "embedding"
            ],
            "description": "The type of the model (always embedding)"
          },
          "isArchived": {
            "type": "boolean",
            "description": "Whether the model is archived",
            "example": false
          },
          "dimensions": {
            "type": "string",
            "enum": [
              "DIMENSION_1024",
              "DIMENSION_1536",
              "DIMENSION_2560",
              1024,
              1536,
              2560
            ],
            "description": "The dimensions of the embedding",
            "example": 1536
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "The date the model was created"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "The date the model was last updated"
          }
        },
        "required": [
          "id",
          "name",
          "provider",
          "displayName",
          "type",
          "isArchived",
          "dimensions",
          "createdAt",
          "updatedAt"
        ]
      },
      "CreateOrgRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Organization display name",
            "example": "Acme Corporation"
          }
        },
        "required": [
          "name"
        ]
      },
      "SuperAdminOrgResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Organization unique identifier",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "name": {
            "type": "string",
            "description": "Organization display name",
            "example": "Acme Corporation"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the organization was created",
            "example": "2024-01-15T10:30:00Z"
          }
        },
        "required": [
          "id",
          "name",
          "createdAt"
        ]
      },
      "PaginationDto": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "number",
            "description": "Maximum number of items per page",
            "example": 50
          },
          "offset": {
            "type": "number",
            "description": "Number of items to skip",
            "example": 0
          },
          "total": {
            "type": "number",
            "description": "Total number of items available",
            "example": 150
          }
        },
        "required": [
          "limit",
          "offset"
        ]
      },
      "SuperAdminOrgListResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Array of organizations for the current page",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SuperAdminOrgResponseDto"
            }
          },
          "pagination": {
            "description": "Pagination metadata",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaginationDto"
              }
            ]
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "UserResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User unique identifier",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "description": "User name",
            "example": "John Doe"
          },
          "email": {
            "type": "string",
            "description": "User email address",
            "example": "john.doe@example.com"
          },
          "role": {
            "type": "string",
            "description": "User role",
            "enum": [
              "admin",
              "user"
            ],
            "example": "user"
          },
          "orgId": {
            "type": "string",
            "description": "Organization ID the user belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174001",
            "format": "uuid"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the user was created",
            "example": "2024-01-15T10:30:00Z"
          }
        },
        "required": [
          "id",
          "name",
          "email",
          "role",
          "orgId",
          "createdAt"
        ]
      },
      "PaginatedUsersListResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Array of users for the current page",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserResponseDto"
            }
          },
          "pagination": {
            "description": "Pagination metadata",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaginationDto"
              }
            ]
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "UpdateUserRoleDto": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "description": "New role for the user",
            "enum": [
              "admin",
              "user"
            ],
            "example": "admin"
          }
        },
        "required": [
          "role"
        ]
      },
      "UpdateUserNameDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "New name for the user",
            "example": "John Doe",
            "minLength": 1,
            "maxLength": 100
          }
        },
        "required": [
          "name"
        ]
      },
      "UpdatePasswordDto": {
        "type": "object",
        "properties": {
          "currentPassword": {
            "type": "string",
            "description": "Current password for verification",
            "example": "currentPassword123",
            "minLength": 8
          },
          "newPassword": {
            "type": "string",
            "description": "New password",
            "example": "newPassword123!",
            "minLength": 8
          },
          "newPasswordConfirmation": {
            "type": "string",
            "description": "Confirmation of the new password",
            "example": "newPassword123!",
            "minLength": 8
          }
        },
        "required": [
          "currentPassword",
          "newPassword",
          "newPasswordConfirmation"
        ]
      },
      "ConfirmEmailDto": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "description": "JWT token for email confirmation",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          }
        },
        "required": [
          "token"
        ]
      },
      "ResendEmailConfirmationDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email address to resend confirmation to",
            "example": "user@example.com",
            "format": "email"
          }
        },
        "required": [
          "email"
        ]
      },
      "ForgotPasswordDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email address to send password reset link to",
            "example": "user@example.com"
          }
        },
        "required": [
          "email"
        ]
      },
      "ResetPasswordDto": {
        "type": "object",
        "properties": {
          "resetToken": {
            "type": "string",
            "description": "Password reset token from email",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          },
          "newPassword": {
            "type": "string",
            "description": "New password",
            "example": "newPassword123!",
            "minLength": 8
          },
          "newPasswordConfirmation": {
            "type": "string",
            "description": "Confirm new password",
            "example": "newPassword123!",
            "minLength": 8
          }
        },
        "required": [
          "resetToken",
          "newPassword",
          "newPasswordConfirmation"
        ]
      },
      "CreateUserDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email address for the user",
            "example": "user@example.com"
          },
          "name": {
            "type": "string",
            "description": "Name of the user",
            "example": "John Doe"
          },
          "role": {
            "type": "string",
            "description": "Role for the user",
            "enum": [
              "admin",
              "user"
            ],
            "example": "user"
          },
          "sendPasswordResetEmail": {
            "type": "boolean",
            "description": "Send password reset email",
            "example": true
          }
        },
        "required": [
          "email",
          "name",
          "role",
          "sendPasswordResetEmail"
        ]
      },
      "CreateInviteDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email address of the person to invite",
            "example": "user@example.com"
          },
          "role": {
            "type": "string",
            "description": "Role to assign to the invited user",
            "enum": [
              "admin",
              "user"
            ],
            "example": "user"
          }
        },
        "required": [
          "email",
          "role"
        ]
      },
      "CreateInviteResponseDto": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "URL of the invite, returned when not using email configuration",
            "example": "https://example.com/invite/123e4567-e89b-12d3-a456-426614174000",
            "nullable": true
          }
        },
        "required": [
          "url"
        ]
      },
      "CreateBulkInviteItemDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email address of the person to invite",
            "example": "user@example.com"
          },
          "role": {
            "type": "string",
            "description": "Role to assign to the invited user",
            "enum": [
              "admin",
              "user"
            ],
            "example": "user"
          }
        },
        "required": [
          "email",
          "role"
        ]
      },
      "CreateBulkInvitesDto": {
        "type": "object",
        "properties": {
          "invites": {
            "description": "Array of invites to create",
            "maxItems": 500,
            "minItems": 1,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateBulkInviteItemDto"
            }
          }
        },
        "required": [
          "invites"
        ]
      },
      "BulkInviteResultDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email address of the invited user",
            "example": "user@example.com"
          },
          "role": {
            "type": "string",
            "description": "Role assigned to the invited user",
            "enum": [
              "admin",
              "user"
            ],
            "example": "user"
          },
          "success": {
            "type": "boolean",
            "description": "Whether the invite was created successfully",
            "example": true
          },
          "url": {
            "type": "string",
            "description": "Invitation URL (only populated when email configuration is unavailable)",
            "nullable": true,
            "example": "https://app.example.com/accept-invite?token=abc123"
          },
          "errorCode": {
            "type": "string",
            "description": "Error code if the invite failed",
            "nullable": true,
            "example": "EMAIL_NOT_AVAILABLE"
          },
          "errorMessage": {
            "type": "string",
            "description": "Error message if the invite failed",
            "nullable": true,
            "example": "Email is already registered"
          }
        },
        "required": [
          "email",
          "role",
          "success",
          "url",
          "errorCode",
          "errorMessage"
        ]
      },
      "CreateBulkInvitesResponseDto": {
        "type": "object",
        "properties": {
          "totalCount": {
            "type": "number",
            "description": "Total number of invites in the request",
            "example": 10
          },
          "successCount": {
            "type": "number",
            "description": "Number of invites created successfully",
            "example": 8
          },
          "failureCount": {
            "type": "number",
            "description": "Number of invites that failed",
            "example": 2
          },
          "results": {
            "description": "Individual results for each invite",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BulkInviteResultDto"
            }
          }
        },
        "required": [
          "totalCount",
          "successCount",
          "failureCount",
          "results"
        ]
      },
      "InviteResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the invite",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "email": {
            "type": "string",
            "description": "Email address of the invited user",
            "example": "user@example.com"
          },
          "role": {
            "type": "string",
            "description": "Role assigned to the invited user",
            "enum": [
              "admin",
              "user"
            ],
            "example": "user"
          },
          "status": {
            "type": "string",
            "description": "Current status of the invite",
            "enum": [
              "pending",
              "accepted",
              "expired"
            ],
            "example": "pending"
          },
          "sentDate": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the invite was sent",
            "example": "2023-12-01T10:00:00Z"
          },
          "expiresAt": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the invite expires",
            "example": "2023-12-08T10:00:00Z"
          },
          "acceptedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the invite was accepted (if applicable)",
            "example": "2023-12-02T15:30:00Z"
          }
        },
        "required": [
          "id",
          "email",
          "role",
          "status",
          "sentDate",
          "expiresAt"
        ]
      },
      "PaginatedInvitesListResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Array of invites for the current page",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/InviteResponseDto"
            }
          },
          "pagination": {
            "description": "Pagination metadata",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaginationDto"
              }
            ]
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "InviteDetailResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the invite",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "email": {
            "type": "string",
            "description": "Email address of the invited user",
            "example": "user@example.com"
          },
          "role": {
            "type": "string",
            "description": "Role assigned to the invited user",
            "enum": [
              "admin",
              "user"
            ],
            "example": "user"
          },
          "status": {
            "type": "string",
            "description": "Current status of the invite",
            "enum": [
              "pending",
              "accepted",
              "expired"
            ],
            "example": "pending"
          },
          "sentDate": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the invite was sent",
            "example": "2023-12-01T10:00:00Z"
          },
          "expiresAt": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the invite expires",
            "example": "2023-12-08T10:00:00Z"
          },
          "acceptedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the invite was accepted (if applicable)",
            "example": "2023-12-02T15:30:00Z"
          },
          "organizationName": {
            "type": "string",
            "description": "Name of the organization",
            "example": "Acme Corporation"
          }
        },
        "required": [
          "id",
          "email",
          "role",
          "status",
          "sentDate",
          "expiresAt",
          "organizationName"
        ]
      },
      "AcceptInviteDto": {
        "type": "object",
        "properties": {
          "inviteToken": {
            "type": "string",
            "description": "JWT token from the invite",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          },
          "userName": {
            "type": "string",
            "description": "Name of the user accepting the invite",
            "example": "John Doe"
          },
          "password": {
            "type": "string",
            "description": "Password of the user accepting the invite",
            "example": "password"
          },
          "hasAcceptedMarketing": {
            "type": "boolean",
            "description": "Marketing acceptance",
            "example": true
          }
        },
        "required": [
          "inviteToken",
          "userName",
          "password",
          "hasAcceptedMarketing"
        ]
      },
      "AcceptInviteResponseDto": {
        "type": "object",
        "properties": {
          "inviteId": {
            "type": "string",
            "description": "ID of the accepted invite",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "email": {
            "type": "string",
            "description": "Email of the user who accepted the invite",
            "example": "user@example.com"
          },
          "orgId": {
            "type": "string",
            "description": "Organization ID the user was invited to",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          }
        },
        "required": [
          "inviteId",
          "email",
          "orgId"
        ]
      },
      "DeleteAllPendingInvitesResponseDto": {
        "type": "object",
        "properties": {
          "deletedCount": {
            "type": "number",
            "description": "Number of invites deleted"
          }
        },
        "required": [
          "deletedCount"
        ]
      },
      "SubscriptionBillingInfoResponseDto": {
        "type": "object",
        "properties": {
          "companyName": {
            "type": "string",
            "description": "Company name",
            "example": "Acme GmbH"
          },
          "street": {
            "type": "string",
            "description": "Street",
            "example": "Musterstraße"
          },
          "houseNumber": {
            "type": "string",
            "description": "Number",
            "example": "123a"
          },
          "city": {
            "type": "string",
            "description": "City",
            "example": "Musterstadt"
          },
          "postalCode": {
            "type": "string",
            "description": "Postal code",
            "example": "12345"
          },
          "country": {
            "type": "string",
            "description": "Country",
            "example": "Deutschland"
          },
          "vatNumber": {
            "type": "string",
            "description": "USt-ID",
            "example": "DE1234567890"
          }
        },
        "required": [
          "companyName",
          "street",
          "houseNumber",
          "city",
          "postalCode",
          "country"
        ]
      },
      "SubscriptionResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the subscription",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the subscription was created",
            "example": "2023-12-01T10:00:00Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the subscription was last updated",
            "example": "2023-12-01T10:00:00Z"
          },
          "cancelledAt": {
            "type": "object",
            "description": "Date when the subscription was cancelled (if applicable)",
            "example": "2023-12-15T10:00:00Z"
          },
          "orgId": {
            "type": "string",
            "description": "Organization ID associated with the subscription",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "noOfSeats": {
            "type": "number",
            "description": "Number of seats in the subscription",
            "example": 10
          },
          "pricePerSeat": {
            "type": "number",
            "description": "Price per seat in the subscription",
            "example": 29.99
          },
          "renewalCycle": {
            "type": "string",
            "description": "Renewal cycle of the subscription",
            "enum": [
              "monthly",
              "yearly"
            ],
            "example": "monthly"
          },
          "renewalCycleAnchor": {
            "format": "date-time",
            "type": "string",
            "description": "Date that serves as the anchor for renewal cycles",
            "example": "2023-12-01T10:00:00Z"
          },
          "availableSeats": {
            "type": "number",
            "description": "Number of available seats (total seats minus invites)",
            "example": 3
          },
          "nextRenewalDate": {
            "format": "date-time",
            "type": "string",
            "description": "Date of the next renewal",
            "example": "2024-01-01T10:00:00Z"
          },
          "billingInfo": {
            "description": "Billing information",
            "allOf": [
              {
                "$ref": "#/components/schemas/SubscriptionBillingInfoResponseDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "createdAt",
          "updatedAt",
          "orgId",
          "noOfSeats",
          "pricePerSeat",
          "renewalCycle",
          "renewalCycleAnchor",
          "availableSeats",
          "nextRenewalDate",
          "billingInfo"
        ]
      },
      "SubscriptionResponseDtoNullable": {
        "type": "object",
        "properties": {
          "subscription": {
            "description": "Subscription",
            "allOf": [
              {
                "$ref": "#/components/schemas/SubscriptionResponseDto"
              }
            ]
          }
        }
      },
      "CreateSubscriptionRequestDto": {
        "type": "object",
        "properties": {
          "noOfSeats": {
            "type": "number",
            "description": "Number of seats for the subscription",
            "example": 10,
            "minimum": 1,
            "default": 1
          },
          "companyName": {
            "type": "string",
            "description": "Company name for the subscription",
            "example": "Acme Inc."
          },
          "subText": {
            "type": "string",
            "description": "Sub text for the subscription",
            "example": "Sub text"
          },
          "street": {
            "type": "string",
            "description": "Street for the subscription",
            "example": "123 Main St"
          },
          "houseNumber": {
            "type": "string",
            "description": "House number for the subscription",
            "example": "123"
          },
          "postalCode": {
            "type": "string",
            "description": "Postal code for the subscription",
            "example": "12345"
          },
          "city": {
            "type": "string",
            "description": "City for the subscription",
            "example": "New York"
          },
          "country": {
            "type": "string",
            "description": "Country for the subscription",
            "example": "United States"
          },
          "vatNumber": {
            "type": "string",
            "description": "VAT number for the subscription",
            "example": "1234567890"
          }
        },
        "required": [
          "companyName",
          "street",
          "houseNumber",
          "postalCode",
          "city",
          "country"
        ]
      },
      "ActiveSubscriptionResponseDto": {
        "type": "object",
        "properties": {
          "hasActiveSubscription": {
            "type": "boolean",
            "description": "Whether the organization has an active subscription",
            "example": true
          }
        },
        "required": [
          "hasActiveSubscription"
        ]
      },
      "UpdateBillingInfoDto": {
        "type": "object",
        "properties": {
          "companyName": {
            "type": "string",
            "description": "Company name for the subscription",
            "example": "Acme Inc."
          },
          "street": {
            "type": "string",
            "description": "Street for the subscription",
            "example": "123 Main St"
          },
          "houseNumber": {
            "type": "string",
            "description": "House number for the subscription",
            "example": "123"
          },
          "postalCode": {
            "type": "string",
            "description": "Postal code for the subscription",
            "example": "12345"
          },
          "city": {
            "type": "string",
            "description": "City for the subscription",
            "example": "New York"
          },
          "country": {
            "type": "string",
            "description": "Country for the subscription",
            "example": "United States"
          },
          "vatNumber": {
            "type": "string",
            "description": "VAT number for the subscription",
            "example": "1234567890"
          }
        },
        "required": [
          "companyName",
          "street",
          "houseNumber",
          "postalCode",
          "city",
          "country"
        ]
      },
      "PriceResponseDto": {
        "type": "object",
        "properties": {
          "pricePerSeatMonthly": {
            "type": "number",
            "description": "Current price per seat per month in the configured currency",
            "example": 29.99
          }
        },
        "required": [
          "pricePerSeatMonthly"
        ]
      },
      "UpdateSeatsDto": {
        "type": "object",
        "properties": {}
      },
      "UploadFileResponseDto": {
        "type": "object",
        "properties": {
          "objectName": {
            "type": "string",
            "description": "Name of the uploaded object",
            "example": "1711365678123-user-upload.png"
          },
          "size": {
            "type": "number",
            "description": "Size of the uploaded file in bytes",
            "example": 1024000
          },
          "etag": {
            "type": "string",
            "description": "ETag of the uploaded object",
            "example": "d41d8cd98f00b204e9800998ecf8427e"
          },
          "contentType": {
            "type": "string",
            "description": "Content type of the uploaded file",
            "example": "image/png"
          },
          "lastModified": {
            "format": "date-time",
            "type": "string",
            "description": "Last modified date of the uploaded object",
            "example": "2024-01-01T00:00:00.000Z"
          }
        },
        "required": [
          "objectName",
          "size",
          "etag"
        ]
      },
      "RetrieveUrlDto": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "URL to retrieve content from",
            "example": "https://example.com/article"
          }
        },
        "required": [
          "url"
        ]
      },
      "CreateThreadDto": {
        "type": "object",
        "properties": {
          "modelId": {
            "type": "string",
            "description": "The id of the model",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "agentId": {
            "type": "string",
            "description": "The id of the agent",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "isAnonymous": {
            "type": "boolean",
            "description": "Enable anonymous mode for this thread",
            "example": false,
            "default": false
          }
        }
      },
      "UserMessageResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "threadId": {
            "type": "string",
            "description": "Thread ID this message belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "createdAt": {
            "type": "string",
            "description": "Creation timestamp",
            "example": "2024-01-01T12:00:00.000Z"
          },
          "role": {
            "type": "string",
            "description": "Role of the message sender",
            "example": "user",
            "enum": [
              "user"
            ]
          },
          "content": {
            "type": "array",
            "description": "Array of content items for user messages (text and/or images)",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/TextMessageContentResponseDto"
                },
                {
                  "$ref": "#/components/schemas/ImageMessageContentResponseDto"
                }
              ]
            }
          }
        },
        "required": [
          "id",
          "threadId",
          "createdAt",
          "role",
          "content"
        ]
      },
      "SystemMessageResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "threadId": {
            "type": "string",
            "description": "Thread ID this message belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "createdAt": {
            "type": "string",
            "description": "Creation timestamp",
            "example": "2024-01-01T12:00:00.000Z"
          },
          "role": {
            "type": "string",
            "description": "Role of the message sender",
            "example": "system",
            "enum": [
              "system"
            ]
          },
          "content": {
            "type": "array",
            "description": "Array of text content items for system messages",
            "items": {
              "$ref": "#/components/schemas/TextMessageContentResponseDto"
            }
          }
        },
        "required": [
          "id",
          "threadId",
          "createdAt",
          "role",
          "content"
        ]
      },
      "AssistantMessageResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "threadId": {
            "type": "string",
            "description": "Thread ID this message belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "createdAt": {
            "type": "string",
            "description": "Creation timestamp",
            "example": "2024-01-01T12:00:00.000Z"
          },
          "role": {
            "type": "string",
            "description": "Role of the message sender",
            "example": "assistant",
            "enum": [
              "assistant"
            ]
          },
          "content": {
            "type": "array",
            "description": "Array of content items for assistant messages (text or tool use)",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/TextMessageContentResponseDto"
                },
                {
                  "$ref": "#/components/schemas/ToolUseMessageContentResponseDto"
                },
                {
                  "$ref": "#/components/schemas/ThinkingMessageContentResponseDto"
                }
              ]
            }
          }
        },
        "required": [
          "id",
          "threadId",
          "createdAt",
          "role",
          "content"
        ]
      },
      "ToolResultMessageResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "threadId": {
            "type": "string",
            "description": "Thread ID this message belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "createdAt": {
            "type": "string",
            "description": "Creation timestamp",
            "example": "2024-01-01T12:00:00.000Z"
          },
          "role": {
            "type": "string",
            "description": "Role of the message sender",
            "example": "tool",
            "enum": [
              "tool"
            ]
          },
          "content": {
            "type": "array",
            "description": "Array of tool result content items for tool messages",
            "items": {
              "$ref": "#/components/schemas/ToolResultMessageContentResponseDto"
            }
          }
        },
        "required": [
          "id",
          "threadId",
          "createdAt",
          "role",
          "content"
        ]
      },
      "TextMessageContentResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of the message content",
            "example": "text",
            "enum": [
              "text",
              "tool_use",
              "tool_result",
              "thinking",
              "image"
            ]
          },
          "text": {
            "type": "string",
            "description": "The text content of the message",
            "example": "Hello, how can I help you today?"
          }
        },
        "required": [
          "type",
          "text"
        ]
      },
      "ToolUseMessageContentResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of the message content",
            "example": "text",
            "enum": [
              "text",
              "tool_use",
              "tool_result",
              "thinking",
              "image"
            ]
          },
          "id": {
            "type": "string",
            "description": "Unique identifier for the tool call",
            "example": "call_abc123"
          },
          "name": {
            "type": "string",
            "description": "Name of the tool being used",
            "example": "get_weather"
          },
          "params": {
            "type": "object",
            "description": "Parameters passed to the tool",
            "example": {
              "location": "New York",
              "unit": "celsius"
            }
          }
        },
        "required": [
          "type",
          "id",
          "name",
          "params"
        ]
      },
      "ToolResultMessageContentResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of the message content",
            "example": "text",
            "enum": [
              "text",
              "tool_use",
              "tool_result",
              "thinking",
              "image"
            ]
          },
          "toolId": {
            "type": "string",
            "description": "Identifier of the tool call this result belongs to",
            "example": "call_abc123"
          },
          "toolName": {
            "type": "string",
            "description": "Name of the tool that generated this result",
            "example": "get_weather"
          },
          "result": {
            "type": "string",
            "description": "The result returned by the tool",
            "example": "The current temperature in New York is 22°C with partly cloudy skies."
          }
        },
        "required": [
          "type",
          "toolId",
          "toolName",
          "result"
        ]
      },
      "ThinkingMessageContentResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of the message content",
            "example": "text",
            "enum": [
              "text",
              "tool_use",
              "tool_result",
              "thinking",
              "image"
            ]
          },
          "thinking": {
            "type": "string",
            "description": "The thinking content of the message",
            "example": "I am thinking about the best way to help you."
          }
        },
        "required": [
          "type",
          "thinking"
        ]
      },
      "ImageMessageContentResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of the message content",
            "example": "text",
            "enum": [
              "text",
              "tool_use",
              "tool_result",
              "thinking",
              "image"
            ]
          },
          "imageUrl": {
            "type": "string",
            "description": "Internal image reference (e.g. MinIO object name or /storage/:objectName path)",
            "example": "1711365678123-user-upload.png"
          },
          "altText": {
            "type": "string",
            "description": "Optional alternative text for the image",
            "example": "Screenshot of the reported issue"
          }
        },
        "required": [
          "type",
          "imageUrl"
        ]
      },
      "ModelResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique identifier of the model",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "description": "The name of the model",
            "example": "gpt-4"
          },
          "provider": {
            "type": "string",
            "description": "The provider of the model",
            "example": "openai"
          },
          "displayName": {
            "type": "string",
            "description": "The display name of the model",
            "example": "GPT-4"
          },
          "anonymousOnly": {
            "type": "boolean",
            "description": "Whether this model requires anonymous mode (PII redaction)",
            "example": false
          },
          "canVision": {
            "type": "boolean",
            "description": "Whether the model supports vision (image processing)",
            "example": true
          }
        },
        "required": [
          "id",
          "name",
          "provider",
          "displayName",
          "anonymousOnly",
          "canVision"
        ]
      },
      "SourceResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the source"
          },
          "threadId": {
            "type": "string",
            "description": "Thread ID this source belongs to"
          },
          "name": {
            "type": "string",
            "description": "Name of the source"
          },
          "type": {
            "type": "string",
            "description": "Type of source",
            "enum": [
              "text",
              "data"
            ]
          },
          "createdBy": {
            "type": "string",
            "description": "Creator of the source",
            "enum": [
              "user",
              "llm",
              "system"
            ]
          },
          "createdAt": {
            "type": "string",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "description": "Last update timestamp"
          }
        },
        "required": [
          "id",
          "threadId",
          "name",
          "type",
          "createdBy",
          "createdAt",
          "updatedAt"
        ]
      },
      "FileSourceResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the source"
          },
          "threadId": {
            "type": "string",
            "description": "Thread ID this source belongs to"
          },
          "name": {
            "type": "string",
            "description": "Name of the source"
          },
          "type": {
            "type": "string",
            "description": "Type of source",
            "enum": [
              "text",
              "data"
            ]
          },
          "createdBy": {
            "type": "string",
            "description": "Creator of the source",
            "enum": [
              "user",
              "llm",
              "system"
            ]
          },
          "createdAt": {
            "type": "string",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "description": "Last update timestamp"
          },
          "textType": {
            "type": "string",
            "description": "Type of text",
            "enum": [
              "file",
              "web"
            ]
          },
          "fileType": {
            "type": "string",
            "description": "Type of file",
            "enum": [
              "pdf",
              "docx",
              "pptx"
            ]
          }
        },
        "required": [
          "id",
          "threadId",
          "name",
          "type",
          "createdBy",
          "createdAt",
          "updatedAt",
          "textType",
          "fileType"
        ]
      },
      "UrlSourceResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the source"
          },
          "threadId": {
            "type": "string",
            "description": "Thread ID this source belongs to"
          },
          "name": {
            "type": "string",
            "description": "Name of the source"
          },
          "type": {
            "type": "string",
            "description": "Type of source",
            "enum": [
              "text",
              "data"
            ]
          },
          "createdBy": {
            "type": "string",
            "description": "Creator of the source",
            "enum": [
              "user",
              "llm",
              "system"
            ]
          },
          "createdAt": {
            "type": "string",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "description": "Last update timestamp"
          },
          "textType": {
            "type": "string",
            "description": "Type of text",
            "enum": [
              "file",
              "web"
            ]
          },
          "url": {
            "type": "string",
            "description": "URL of the source"
          }
        },
        "required": [
          "id",
          "threadId",
          "name",
          "type",
          "createdBy",
          "createdAt",
          "updatedAt",
          "textType",
          "url"
        ]
      },
      "CSVDataSourceResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the source"
          },
          "threadId": {
            "type": "string",
            "description": "Thread ID this source belongs to"
          },
          "name": {
            "type": "string",
            "description": "Name of the source"
          },
          "type": {
            "type": "string",
            "description": "Type of source",
            "enum": [
              "text",
              "data"
            ]
          },
          "createdBy": {
            "type": "string",
            "description": "Creator of the source",
            "enum": [
              "user",
              "llm",
              "system"
            ]
          },
          "createdAt": {
            "type": "string",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "description": "Last update timestamp"
          },
          "dataType": {
            "type": "string",
            "description": "Type of data",
            "enum": [
              "csv"
            ]
          },
          "data": {
            "type": "object",
            "description": "CSV data with headers and rows",
            "additionalProperties": false,
            "properties": {
              "headers": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Column headers"
              },
              "rows": {
                "type": "array",
                "items": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "description": "Data rows"
              }
            }
          }
        },
        "required": [
          "id",
          "threadId",
          "name",
          "type",
          "createdBy",
          "createdAt",
          "updatedAt",
          "dataType",
          "data"
        ]
      },
      "GetThreadResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the thread",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "userId": {
            "type": "string",
            "description": "User ID who owns this thread",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "permittedModelId": {
            "type": "string",
            "description": "Permitted model ID",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "agentId": {
            "type": "string",
            "description": "Agent ID",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "title": {
            "type": "string",
            "description": "Title of the thread",
            "example": "Discussion about AI models"
          },
          "messages": {
            "type": "array",
            "description": "Array of messages in the thread (role-specific types)",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/UserMessageResponseDto"
                },
                {
                  "$ref": "#/components/schemas/SystemMessageResponseDto"
                },
                {
                  "$ref": "#/components/schemas/AssistantMessageResponseDto"
                },
                {
                  "$ref": "#/components/schemas/ToolResultMessageResponseDto"
                }
              ]
            }
          },
          "sources": {
            "type": "array",
            "description": "Array of sources in the thread",
            "items": {
              "$ref": "#/components/schemas/SourceResponseDto"
            }
          },
          "createdAt": {
            "type": "string",
            "description": "Creation timestamp",
            "example": "2024-01-01T12:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "description": "Last update timestamp",
            "example": "2024-01-01T12:30:00.000Z"
          },
          "isAnonymous": {
            "type": "boolean",
            "description": "Whether the thread is in anonymous mode (PII redaction enabled)",
            "example": false
          },
          "isLongChat": {
            "type": "boolean",
            "description": "Whether the thread has exceeded the token threshold for optimal performance",
            "example": false
          }
        },
        "required": [
          "id",
          "userId",
          "permittedModelId",
          "agentId",
          "messages",
          "sources",
          "createdAt",
          "updatedAt",
          "isAnonymous",
          "isLongChat"
        ]
      },
      "GetThreadsResponseDtoItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the thread",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "title": {
            "type": "string",
            "description": "Title of the thread",
            "example": "Discussion about AI models"
          },
          "createdAt": {
            "type": "string",
            "description": "Creation timestamp",
            "example": "2024-01-01T12:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "description": "Last update timestamp",
            "example": "2024-01-01T12:30:00.000Z"
          },
          "isAnonymous": {
            "type": "boolean",
            "description": "Whether the thread is in anonymous mode (PII redaction enabled)",
            "example": false
          }
        },
        "required": [
          "id",
          "createdAt",
          "updatedAt",
          "isAnonymous"
        ]
      },
      "GetThreadsResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Array of threads for the current page",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetThreadsResponseDtoItem"
            }
          },
          "pagination": {
            "description": "Pagination metadata",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaginationDto"
              }
            ]
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "UpdateThreadTitleDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "The new title for the thread",
            "example": "My conversation about AI",
            "minLength": 1,
            "maxLength": 200
          }
        },
        "required": [
          "title"
        ]
      },
      "ToolAssignmentDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "The type of tool to assign",
            "example": "internet_search",
            "enum": [
              "http",
              "source_query",
              "source_get_text",
              "internet_search",
              "website_content",
              "send_email",
              "create_calendar_event",
              "code_execution",
              "bar_chart",
              "line_chart",
              "pie_chart",
              "mcp_tool",
              "mcp_resource",
              "mcp_prompt",
              "product_knowledge",
              "activate_skill",
              "create_skill"
            ]
          },
          "toolConfigId": {
            "type": "string",
            "description": "The ID of the tool configuration to assign",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          }
        },
        "required": [
          "type"
        ]
      },
      "CreateAgentDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the agent",
            "example": "Customer Support Assistant",
            "minLength": 1,
            "maxLength": 255
          },
          "instructions": {
            "type": "string",
            "description": "The instructions for the agent",
            "example": "You are a helpful customer support assistant. Always be polite and professional."
          },
          "modelId": {
            "type": "string",
            "description": "The ID of the permitted model to use for this agent",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "toolAssignments": {
            "description": "The tools to assign to the agent",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ToolAssignmentDto"
            }
          }
        },
        "required": [
          "name",
          "instructions",
          "modelId",
          "toolAssignments"
        ]
      },
      "ToolResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "The type of the tool",
            "example": "internet_search",
            "enum": [
              "http",
              "source_query",
              "source_get_text",
              "internet_search",
              "website_content",
              "send_email",
              "create_calendar_event",
              "code_execution",
              "bar_chart",
              "line_chart",
              "pie_chart",
              "mcp_tool",
              "mcp_resource",
              "mcp_prompt",
              "product_knowledge",
              "activate_skill",
              "create_skill"
            ]
          }
        },
        "required": [
          "type"
        ]
      },
      "AgentSourceResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique identifier of the source assignment",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "sourceId": {
            "type": "string",
            "description": "The unique identifier of the source",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "description": "The name of the source",
            "example": "Project Documentation"
          },
          "type": {
            "type": "string",
            "description": "The type of source",
            "example": "file",
            "enum": [
              "file",
              "url"
            ]
          }
        },
        "required": [
          "id",
          "sourceId",
          "name",
          "type"
        ]
      },
      "AgentResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique identifier of the agent",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "description": "The name of the agent",
            "example": "Customer Support Assistant"
          },
          "instructions": {
            "type": "string",
            "description": "The instructions for the agent",
            "example": "You are a helpful customer support assistant. Always be polite and professional."
          },
          "userId": {
            "type": "string",
            "description": "The unique identifier of the user who owns this agent",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "createdAt": {
            "type": "string",
            "description": "The date and time when the agent was created",
            "example": "2023-12-01T10:00:00.000Z",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "The date and time when the agent was last updated",
            "example": "2023-12-01T10:00:00.000Z",
            "format": "date-time"
          },
          "model": {
            "description": "The model configuration for this agent",
            "example": {
              "id": "123e4567-e89b-12d3-a456-426614174000",
              "name": "gpt-4",
              "provider": "openai"
            },
            "allOf": [
              {
                "$ref": "#/components/schemas/ModelResponseDto"
              }
            ]
          },
          "tools": {
            "description": "The tools assigned to this agent",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ToolResponseDto"
            }
          },
          "sources": {
            "description": "The sources assigned to this agent",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AgentSourceResponseDto"
            }
          },
          "isShared": {
            "type": "boolean",
            "description": "Whether this agent is shared with the current user (vs. owned by them)",
            "example": false
          },
          "ownerId": {
            "type": "string",
            "description": "The unique identifier of the user who owns this agent (same as userId)",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          }
        },
        "required": [
          "id",
          "name",
          "instructions",
          "userId",
          "createdAt",
          "updatedAt",
          "model",
          "tools",
          "sources",
          "isShared",
          "ownerId"
        ]
      },
      "UpdateAgentDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the agent",
            "example": "Customer Support Assistant",
            "minLength": 1,
            "maxLength": 255
          },
          "instructions": {
            "type": "string",
            "description": "The instructions for the agent",
            "example": "You are a helpful customer support assistant. Always be polite and professional."
          },
          "modelId": {
            "type": "string",
            "description": "The ID of the permitted model to use for this agent",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          }
        },
        "required": [
          "name",
          "instructions",
          "modelId"
        ]
      },
      "McpIntegrationResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the integration",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "name": {
            "type": "string",
            "description": "Name of the integration",
            "example": "Production Test Integration"
          },
          "type": {
            "type": "string",
            "description": "Type of integration",
            "enum": [
              "predefined",
              "custom",
              "marketplace"
            ],
            "example": "predefined"
          },
          "slug": {
            "type": "string",
            "description": "Predefined integration slug (only for predefined integrations)",
            "example": "TEST"
          },
          "serverUrl": {
            "type": "string",
            "description": "Custom server URL (only for custom integrations)",
            "example": "https://my-server.com/mcp"
          },
          "enabled": {
            "type": "boolean",
            "description": "Whether the integration is enabled",
            "example": true
          },
          "organizationId": {
            "type": "string",
            "description": "Organization that owns this integration",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "authMethod": {
            "type": "string",
            "description": "Authentication method used",
            "enum": [
              "NO_AUTH",
              "BEARER_TOKEN",
              "CUSTOM_HEADER",
              "OAUTH"
            ],
            "example": "BEARER_TOKEN"
          },
          "authHeaderName": {
            "type": "string",
            "description": "Custom auth header name",
            "example": "Authorization"
          },
          "hasCredentials": {
            "type": "boolean",
            "description": "Whether credentials are configured (never exposes actual credentials)",
            "example": true
          },
          "connectionStatus": {
            "type": "string",
            "description": "Connection status of the integration",
            "enum": [
              "connected",
              "disconnected",
              "error",
              "unknown"
            ],
            "example": "connected"
          },
          "lastConnectionError": {
            "type": "string",
            "description": "Last error message if connection failed",
            "example": "Failed to reach server: Connection timeout"
          },
          "lastConnectionCheck": {
            "format": "date-time",
            "type": "string",
            "description": "Timestamp of the last connection check",
            "example": "2025-10-28T14:30:00.000Z"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Timestamp when the integration was created",
            "example": "2025-10-28T10:00:00.000Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Timestamp when the integration was last updated",
            "example": "2025-10-28T12:30:00.000Z"
          },
          "returnsPii": {
            "type": "boolean",
            "description": "Whether tools from this integration may return PII data that should be anonymized in anonymous mode",
            "example": true
          },
          "marketplaceIdentifier": {
            "type": "string",
            "description": "Marketplace integration identifier (only for marketplace integrations)",
            "example": "oparl-council-data"
          },
          "configSchema": {
            "type": "object",
            "description": "Configuration schema from marketplace (only for marketplace integrations)"
          },
          "hasUserFields": {
            "type": "boolean",
            "description": "Whether this marketplace integration has user-level config fields",
            "example": false
          }
        },
        "required": [
          "id",
          "name",
          "type",
          "enabled",
          "organizationId",
          "hasCredentials",
          "createdAt",
          "updatedAt",
          "returnsPii"
        ]
      },
      "CreateAgentShareDto": {
        "type": "object",
        "properties": {
          "entityType": {
            "type": "string",
            "description": "Type of entity being shared",
            "enum": [
              "agent",
              "prompt",
              "skill"
            ]
          },
          "agentId": {
            "type": "string",
            "description": "ID of the agent to share",
            "format": "uuid"
          },
          "teamId": {
            "type": "string",
            "description": "ID of the team to share with (if not provided, shares with entire organization)",
            "format": "uuid"
          }
        },
        "required": [
          "entityType",
          "agentId"
        ]
      },
      "ShareResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the share",
            "format": "uuid"
          },
          "entityType": {
            "type": "string",
            "description": "Type of entity being shared",
            "enum": [
              "agent",
              "prompt",
              "skill"
            ]
          },
          "entityId": {
            "type": "string",
            "description": "ID of the entity being shared",
            "format": "uuid"
          },
          "scopeType": {
            "type": "string",
            "description": "Type of share scope (organization, user, or team)",
            "enum": [
              "org",
              "team"
            ]
          },
          "ownerId": {
            "type": "string",
            "description": "ID of the user who created the share",
            "format": "uuid"
          },
          "teamId": {
            "type": "string",
            "description": "ID of the team (only present for team-scoped shares)",
            "format": "uuid"
          },
          "teamName": {
            "type": "string",
            "description": "Name of the team (only present for team-scoped shares)"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "When the share was created"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "When the share was last updated"
          }
        },
        "required": [
          "id",
          "entityType",
          "entityId",
          "scopeType",
          "ownerId",
          "createdAt",
          "updatedAt"
        ]
      },
      "CreateSkillShareDto": {
        "type": "object",
        "properties": {
          "entityType": {
            "type": "string",
            "description": "Type of entity being shared",
            "enum": [
              "agent",
              "prompt",
              "skill"
            ]
          },
          "skillId": {
            "type": "string",
            "description": "ID of the skill to share",
            "format": "uuid"
          },
          "teamId": {
            "type": "string",
            "description": "ID of the team to share with (if not provided, shares with entire organization)",
            "format": "uuid"
          }
        },
        "required": [
          "entityType",
          "skillId"
        ]
      },
      "CreateTeamDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the team",
            "example": "Engineering"
          }
        },
        "required": [
          "name"
        ]
      },
      "UpdateTeamDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The new name of the team",
            "example": "Engineering"
          }
        },
        "required": [
          "name"
        ]
      },
      "TeamResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique identifier of the team",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "name": {
            "type": "string",
            "description": "The name of the team",
            "example": "Engineering"
          },
          "orgId": {
            "type": "string",
            "description": "The organization ID the team belongs to",
            "example": "550e8400-e29b-41d4-a716-446655440001"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "The date and time when the team was created",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "The date and time when the team was last updated",
            "example": "2024-01-15T10:30:00.000Z"
          }
        },
        "required": [
          "id",
          "name",
          "orgId",
          "createdAt",
          "updatedAt"
        ]
      },
      "TeamMemberResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique identifier of the team member",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "userId": {
            "type": "string",
            "description": "The user ID of the team member",
            "example": "550e8400-e29b-41d4-a716-446655440001"
          },
          "userName": {
            "type": "string",
            "description": "The name of the team member",
            "example": "John Doe"
          },
          "userEmail": {
            "type": "string",
            "description": "The email of the team member",
            "example": "john.doe@example.com"
          },
          "userRole": {
            "type": "string",
            "description": "The role of the team member in the organization",
            "enum": [
              "admin",
              "user"
            ],
            "example": "user"
          },
          "joinedAt": {
            "format": "date-time",
            "type": "string",
            "description": "The date when the user joined the team",
            "example": "2024-01-15T10:30:00.000Z"
          }
        },
        "required": [
          "id",
          "userId",
          "userName",
          "userEmail",
          "userRole",
          "joinedAt"
        ]
      },
      "PaginatedTeamMembersResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Array of team members for the current page",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TeamMemberResponseDto"
            }
          },
          "pagination": {
            "description": "Pagination metadata",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaginationDto"
              }
            ]
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "AddTeamMemberDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "The user ID to add to the team",
            "example": "550e8400-e29b-41d4-a716-446655440001"
          }
        },
        "required": [
          "userId"
        ]
      },
      "ListTeamMembersQueryDto": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "number",
            "description": "Maximum number of items per page",
            "example": 50,
            "default": 50
          },
          "offset": {
            "type": "number",
            "description": "Number of items to skip",
            "example": 0,
            "default": 0
          }
        }
      },
      "ConfigValueDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name/type of the credential field",
            "enum": [
              "token",
              "clientId",
              "clientSecret"
            ],
            "example": "token"
          },
          "value": {
            "type": "string",
            "description": "The value for this credential field (will be encrypted)",
            "example": "sk_test_123abc"
          }
        },
        "required": [
          "name",
          "value"
        ]
      },
      "CreatePredefinedIntegrationDto": {
        "type": "object",
        "properties": {
          "slug": {
            "type": "string",
            "description": "The predefined integration slug",
            "example": "TEST",
            "enum": [
              "TEST",
              "LOCABOO",
              "LEGAL_CODES"
            ]
          },
          "configValues": {
            "description": "List of config values for credential fields",
            "example": [
              {
                "name": "token",
                "value": "sk_test_123abc"
              }
            ],
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConfigValueDto"
            }
          },
          "returnsPii": {
            "type": "boolean",
            "description": "Whether tools from this integration may return PII data that should be anonymized in anonymous mode. Defaults to true for safety.",
            "example": true,
            "default": true
          }
        },
        "required": [
          "slug",
          "configValues"
        ]
      },
      "CreateCustomIntegrationDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name for this integration instance",
            "example": "My Custom MCP Server",
            "minLength": 1,
            "maxLength": 255
          },
          "serverUrl": {
            "type": "string",
            "description": "The URL of the custom MCP server",
            "example": "https://my-mcp-server.example.com/mcp"
          },
          "authMethod": {
            "type": "string",
            "description": "Authentication method for the MCP server",
            "enum": [
              "NO_AUTH",
              "BEARER_TOKEN",
              "CUSTOM_HEADER",
              "OAUTH"
            ],
            "example": "CUSTOM_HEADER",
            "nullable": true
          },
          "authHeaderName": {
            "type": "string",
            "description": "Custom auth header name (e.g., X-API-Key). Required for CUSTOM_HEADER auth method. Ignored for BEARER_TOKEN (always uses Authorization header).",
            "example": "X-API-Key"
          },
          "credentials": {
            "type": "string",
            "description": "Authentication credentials (will be encrypted). Required for CUSTOM_HEADER and BEARER_TOKEN auth methods.",
            "example": "my-secret-value-12345"
          },
          "returnsPii": {
            "type": "boolean",
            "description": "Whether tools from this integration may return PII data that should be anonymized in anonymous mode. Defaults to true for safety.",
            "example": true,
            "default": true
          }
        },
        "required": [
          "name",
          "serverUrl"
        ]
      },
      "CredentialFieldDto": {
        "type": "object",
        "properties": {
          "label": {
            "type": "string",
            "description": "User-friendly label for the credential field",
            "example": "Locaboo 3 API Token"
          },
          "type": {
            "type": "string",
            "description": "Input type (text or password)",
            "enum": [
              "token",
              "clientId",
              "clientSecret"
            ],
            "example": "token"
          },
          "required": {
            "type": "boolean",
            "description": "Whether this field is required",
            "example": true
          },
          "help": {
            "type": "string",
            "description": "Help text to guide users",
            "example": "Your Locaboo 3 API token will be used to authenticate with Locaboo 4"
          }
        },
        "required": [
          "label",
          "type",
          "required"
        ]
      },
      "PredefinedConfigResponseDto": {
        "type": "object",
        "properties": {
          "slug": {
            "type": "string",
            "description": "Unique slug identifier for the predefined integration",
            "example": "LOCABOO"
          },
          "displayName": {
            "type": "string",
            "description": "Display name for the integration",
            "example": "Locaboo 4"
          },
          "description": {
            "type": "string",
            "description": "Description of what this integration provides",
            "example": "Connect to Locaboo 4 booking system"
          },
          "authType": {
            "type": "string",
            "description": "Authentication method for this integration",
            "enum": [
              "NO_AUTH",
              "BEARER_TOKEN",
              "API_KEY",
              "OAUTH"
            ],
            "example": "BEARER_TOKEN"
          },
          "authHeaderName": {
            "type": "string",
            "description": "HTTP header name for authentication (if applicable)",
            "example": "Authorization"
          },
          "credentialFields": {
            "description": "Credential fields required for this integration",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CredentialFieldDto"
            }
          }
        },
        "required": [
          "slug",
          "displayName",
          "description",
          "authType"
        ]
      },
      "UpdateMcpIntegrationDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The new name for the integration",
            "example": "Updated Integration Name",
            "minLength": 1,
            "maxLength": 255
          },
          "credentials": {
            "type": "string",
            "description": "Authentication credentials (will be encrypted). Provide to rotate the stored secret/token.",
            "example": "new-secret-value-123"
          },
          "authHeaderName": {
            "type": "string",
            "description": "Custom auth header name. Only used in combination with CUSTOM_HEADER integrations.",
            "example": "X-API-Key"
          },
          "returnsPii": {
            "type": "boolean",
            "description": "Whether tools from this integration may return PII data that should be anonymized in anonymous mode.",
            "example": true
          }
        }
      },
      "InstallMarketplaceIntegrationDto": {
        "type": "object",
        "properties": {
          "identifier": {
            "type": "string",
            "description": "Marketplace integration identifier",
            "example": "oparl-council-data"
          },
          "orgConfigValues": {
            "type": "object",
            "description": "Organization-level configuration values (key-value pairs matching config schema orgFields)",
            "example": {
              "oparlEndpointUrl": "https://rim.ekom21.de/oparl/v1"
            },
            "additionalProperties": {
              "type": "string"
            }
          },
          "returnsPii": {
            "type": "boolean",
            "description": "Whether tools from this integration may return PII data that should be anonymized in anonymous mode",
            "example": false
          }
        },
        "required": [
          "identifier",
          "orgConfigValues"
        ]
      },
      "UserConfigResponseDto": {
        "type": "object",
        "properties": {
          "hasConfig": {
            "type": "boolean",
            "description": "Whether the user has configured values for this integration",
            "example": true
          },
          "configValues": {
            "type": "object",
            "description": "Configuration values with secret values masked (keys present, values replaced with \"***\")",
            "example": {
              "personalToken": "***"
            },
            "additionalProperties": {
              "type": "string"
            }
          }
        },
        "required": [
          "hasConfig",
          "configValues"
        ]
      },
      "SetUserConfigDto": {
        "type": "object",
        "properties": {
          "configValues": {
            "type": "object",
            "description": "User-level configuration values (key-value pairs matching config schema userFields)",
            "example": {
              "personalToken": "my-personal-access-token"
            },
            "additionalProperties": {
              "type": "string"
            }
          }
        },
        "required": [
          "configValues"
        ]
      },
      "ValidationResponseDto": {
        "type": "object",
        "properties": {
          "valid": {
            "type": "boolean",
            "description": "Whether the integration validation succeeded",
            "example": true
          },
          "capabilities": {
            "type": "object",
            "description": "Discovered capabilities from the MCP server",
            "example": {
              "tools": 5,
              "resources": 3,
              "prompts": 2
            }
          },
          "error": {
            "type": "string",
            "description": "Error message if validation failed",
            "example": "Connection timeout"
          }
        },
        "required": [
          "valid",
          "capabilities"
        ]
      },
      "MarketplaceSkillResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Skill UUID"
          },
          "identifier": {
            "type": "string",
            "description": "Unique identifier (slug)"
          },
          "name": {
            "type": "string",
            "description": "Display name"
          },
          "shortDescription": {
            "type": "string",
            "description": "Short description for marketplace display"
          },
          "aiDescription": {
            "type": "string",
            "description": "Description shown to LLM to decide activation"
          },
          "instructions": {
            "type": "string",
            "description": "Detailed instructions injected into the conversation when the skill is activated"
          },
          "skillCategoryId": {
            "type": "string",
            "description": "Skill category ID",
            "nullable": true
          },
          "iconUrl": {
            "type": "string",
            "description": "Icon URL",
            "nullable": true
          },
          "featured": {
            "type": "boolean",
            "description": "Whether the skill is featured"
          },
          "published": {
            "type": "boolean",
            "description": "Whether the skill is published"
          },
          "preInstalled": {
            "type": "boolean",
            "description": "Whether the skill is pre-installed"
          },
          "createdAt": {
            "type": "string",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "description": "Last update timestamp"
          }
        },
        "required": [
          "id",
          "identifier",
          "name",
          "shortDescription",
          "aiDescription",
          "instructions",
          "featured",
          "published",
          "preInstalled",
          "createdAt",
          "updatedAt"
        ]
      },
      "MarketplaceIntegrationConfigFieldDto": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "description": "Unique identifier within the schema"
          },
          "label": {
            "type": "string",
            "description": "Display label for the frontend form"
          },
          "type": {
            "type": "string",
            "description": "Field type",
            "enum": [
              "text",
              "url",
              "secret"
            ]
          },
          "headerName": {
            "type": "string",
            "description": "HTTP header name this field maps to; if absent, field is internal config",
            "nullable": true
          },
          "prefix": {
            "type": "string",
            "description": "Optional prefix prepended to the value before sending",
            "nullable": true
          },
          "required": {
            "type": "boolean",
            "description": "Whether the field must be provided"
          },
          "help": {
            "type": "string",
            "description": "Optional help text for the frontend form",
            "nullable": true
          },
          "value": {
            "type": "string",
            "description": "Fixed value from marketplace; if set, field is not shown in forms",
            "nullable": true
          }
        },
        "required": [
          "key",
          "label",
          "type",
          "required"
        ]
      },
      "MarketplaceIntegrationConfigSchemaDto": {
        "type": "object",
        "properties": {
          "authType": {
            "type": "string",
            "description": "Auth type for documentation/UI purposes"
          },
          "orgFields": {
            "description": "Fields configured by org admin at install time",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MarketplaceIntegrationConfigFieldDto"
            }
          },
          "userFields": {
            "description": "Fields configured by individual users",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MarketplaceIntegrationConfigFieldDto"
            }
          }
        },
        "required": [
          "authType",
          "orgFields",
          "userFields"
        ]
      },
      "MarketplaceIntegrationResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Integration UUID"
          },
          "identifier": {
            "type": "string",
            "description": "Unique identifier (slug)"
          },
          "name": {
            "type": "string",
            "description": "Display name"
          },
          "shortDescription": {
            "type": "string",
            "description": "Short description for marketplace display"
          },
          "description": {
            "type": "string",
            "description": "Full description"
          },
          "iconUrl": {
            "type": "string",
            "description": "Icon URL",
            "nullable": true
          },
          "serverUrl": {
            "type": "string",
            "description": "MCP server URL"
          },
          "configSchema": {
            "description": "Configuration schema (authType, orgFields, userFields, oauth)",
            "allOf": [
              {
                "$ref": "#/components/schemas/MarketplaceIntegrationConfigSchemaDto"
              }
            ]
          },
          "featured": {
            "type": "boolean",
            "description": "Whether the integration is featured"
          },
          "published": {
            "type": "boolean",
            "description": "Whether the integration is published"
          },
          "preInstalled": {
            "type": "boolean",
            "description": "Whether the integration is pre-installed"
          },
          "createdAt": {
            "type": "string",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "description": "Last update timestamp"
          }
        },
        "required": [
          "id",
          "identifier",
          "name",
          "shortDescription",
          "description",
          "serverUrl",
          "configSchema",
          "featured",
          "published",
          "preInstalled",
          "createdAt",
          "updatedAt"
        ]
      },
      "InstallSkillFromMarketplaceDto": {
        "type": "object",
        "properties": {
          "identifier": {
            "type": "string",
            "description": "The unique identifier (slug) of the marketplace skill",
            "example": "meeting-summarizer"
          }
        },
        "required": [
          "identifier"
        ]
      },
      "SkillResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique identifier of the skill",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "description": "The name of the skill",
            "example": "Legal Research"
          },
          "shortDescription": {
            "type": "string",
            "description": "A short description of the skill",
            "example": "Research legal topics, find relevant case law, and draft legal documents."
          },
          "instructions": {
            "type": "string",
            "description": "Detailed instructions for the skill",
            "example": "You are a legal research assistant. When activated, search through the attached legal databases..."
          },
          "marketplaceIdentifier": {
            "type": "string",
            "description": "The marketplace identifier if this skill was installed from the marketplace",
            "example": "meeting-summarizer",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the skill is active and available for use in chats",
            "example": true
          },
          "userId": {
            "type": "string",
            "description": "The unique identifier of the user who owns this skill",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "createdAt": {
            "type": "string",
            "description": "The date and time when the skill was created",
            "example": "2023-12-01T10:00:00.000Z",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "The date and time when the skill was last updated",
            "example": "2023-12-01T10:00:00.000Z",
            "format": "date-time"
          },
          "isShared": {
            "type": "boolean",
            "description": "Whether the skill is shared with the current user (not owned)",
            "example": false
          }
        },
        "required": [
          "id",
          "name",
          "shortDescription",
          "instructions",
          "marketplaceIdentifier",
          "isActive",
          "userId",
          "createdAt",
          "updatedAt",
          "isShared"
        ]
      },
      "CreateSkillDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the skill (must be unique per user). Only letters, numbers, hyphens, and spaces allowed. Must start and end with a letter or number.",
            "example": "Legal Research",
            "minLength": 1,
            "maxLength": 255
          },
          "shortDescription": {
            "type": "string",
            "description": "A short description of the skill (shown in system prompt for LLM to decide activation)",
            "example": "Research legal topics, find relevant case law, and draft legal documents."
          },
          "instructions": {
            "type": "string",
            "description": "Detailed instructions for the skill (injected when the skill is activated)",
            "example": "You are a legal research assistant. When activated, search through the attached legal databases..."
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the skill is active (defaults to false)",
            "example": true
          }
        },
        "required": [
          "name",
          "shortDescription",
          "instructions"
        ]
      },
      "UpdateSkillDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the skill (must be unique per user). Only letters, numbers, hyphens, and spaces allowed. Must start and end with a letter or number.",
            "example": "Legal Research",
            "minLength": 1,
            "maxLength": 255
          },
          "shortDescription": {
            "type": "string",
            "description": "A short description of the skill (shown in system prompt for LLM to decide activation)",
            "example": "Research legal topics, find relevant case law, and draft legal documents."
          },
          "instructions": {
            "type": "string",
            "description": "Detailed instructions for the skill (injected when the skill is activated)",
            "example": "You are a legal research assistant. When activated, search through the attached legal databases..."
          }
        },
        "required": [
          "name",
          "shortDescription",
          "instructions"
        ]
      },
      "SkillSourceResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique identifier of the source",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "description": "The name of the source",
            "example": "Legal Database 2024"
          },
          "type": {
            "type": "string",
            "description": "The type of source",
            "example": "file"
          }
        },
        "required": [
          "id",
          "name",
          "type"
        ]
      },
      "MessageContentResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of the message content",
            "example": "text",
            "enum": [
              "text",
              "tool_use",
              "tool_result",
              "thinking",
              "image"
            ]
          }
        },
        "required": [
          "type"
        ]
      },
      "RunSessionResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Response type identifier",
            "example": "session",
            "enum": [
              "session"
            ]
          },
          "success": {
            "type": "boolean",
            "description": "Indicates successful session establishment",
            "example": true
          },
          "streaming": {
            "type": "boolean",
            "description": "Indicates if the session is streaming",
            "example": true
          },
          "threadId": {
            "type": "string",
            "description": "Thread ID for the session",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "timestamp": {
            "type": "string",
            "description": "Session establishment timestamp",
            "example": "2024-01-01T12:00:00.000Z"
          }
        },
        "required": [
          "type",
          "threadId",
          "timestamp"
        ]
      },
      "RunMessageResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Response type identifier",
            "example": "message",
            "enum": [
              "message"
            ]
          },
          "message": {
            "description": "The message data",
            "oneOf": [
              {
                "$ref": "#/components/schemas/UserMessageResponseDto"
              },
              {
                "$ref": "#/components/schemas/AssistantMessageResponseDto"
              },
              {
                "$ref": "#/components/schemas/ToolResultMessageResponseDto"
              },
              {
                "$ref": "#/components/schemas/SystemMessageResponseDto"
              }
            ]
          },
          "threadId": {
            "type": "string",
            "description": "Thread ID for the message",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "timestamp": {
            "type": "string",
            "description": "Message timestamp",
            "example": "2024-01-01T12:00:00.000Z"
          }
        },
        "required": [
          "type",
          "message",
          "threadId",
          "timestamp"
        ]
      },
      "RunErrorResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Response type identifier",
            "example": "error",
            "enum": [
              "error"
            ]
          },
          "message": {
            "type": "string",
            "description": "Error message",
            "example": "An error occurred while processing your request"
          },
          "threadId": {
            "type": "string",
            "description": "Thread ID where the error occurred",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "timestamp": {
            "type": "string",
            "description": "Error timestamp",
            "example": "2024-01-01T12:00:00.000Z"
          },
          "code": {
            "type": "string",
            "description": "Optional error code for categorization",
            "example": "EXECUTION_ERROR"
          },
          "details": {
            "type": "object",
            "description": "Optional additional error details",
            "example": {
              "originalError": "Network timeout"
            }
          }
        },
        "required": [
          "type",
          "message",
          "threadId",
          "timestamp"
        ]
      },
      "RunThreadResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Response type identifier",
            "example": "thread",
            "enum": [
              "thread"
            ]
          },
          "threadId": {
            "type": "string",
            "description": "Thread ID that was updated",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "updateType": {
            "type": "string",
            "description": "Type of thread update",
            "example": "title_updated",
            "enum": [
              "title_updated"
            ]
          },
          "title": {
            "type": "string",
            "description": "Updated thread title",
            "example": "Discussion about AI and machine learning"
          },
          "timestamp": {
            "type": "string",
            "description": "Thread update timestamp",
            "example": "2024-01-01T12:00:00.000Z"
          }
        },
        "required": [
          "type",
          "threadId",
          "updateType",
          "title",
          "timestamp"
        ]
      },
      "TextInput": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "The type of input",
            "enum": [
              "text"
            ],
            "example": "text"
          },
          "text": {
            "type": "string",
            "description": "The text content for the inference",
            "example": "What is the weather forecast for New York tomorrow?"
          }
        },
        "required": [
          "type",
          "text"
        ]
      },
      "ToolResultInput": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "The type of input",
            "enum": [
              "tool_result"
            ],
            "example": "tool_result"
          },
          "toolId": {
            "type": "string",
            "description": "The ID of the tool that produced this result",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "toolName": {
            "type": "string",
            "description": "The name of the tool that produced this result",
            "example": "weather_tool"
          },
          "result": {
            "type": "string",
            "description": "The result data from the tool execution",
            "example": "{\"location\":\"New York\",\"forecast\":\"Partly cloudy with a high of 75°F and a low of 60°F\",\"precipitation\":\"20%\"}"
          }
        },
        "required": [
          "type",
          "toolId",
          "toolName",
          "result"
        ]
      },
      "SendMessageDto": {
        "type": "object",
        "properties": {
          "threadId": {
            "type": "string",
            "description": "The thread to use for the inference.",
            "example": "550e8400-e29b-12d3-a456-426614174000"
          },
          "text": {
            "type": "string",
            "description": "Text content of the user message (for user input)",
            "example": "What do you see in this image?"
          },
          "imageAltTexts": {
            "type": "array",
            "description": "JSON array of alt texts matching the order of uploaded images",
            "items": {
              "type": "string"
            }
          },
          "toolResult": {
            "description": "Tool result input (for tool_result type only)",
            "oneOf": [
              {
                "$ref": "#/components/schemas/ToolResultInput"
              }
            ],
            "allOf": [
              {
                "$ref": "#/components/schemas/ToolResultInput"
              }
            ]
          },
          "streaming": {
            "type": "boolean",
            "description": "Enable streaming mode for real-time response updates",
            "example": true,
            "default": true
          }
        },
        "required": [
          "threadId"
        ]
      },
      "SuperAdminTrialResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Trial unique identifier",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "orgId": {
            "type": "string",
            "description": "Organization ID associated with this trial",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "messagesSent": {
            "type": "number",
            "description": "Number of messages sent in this trial",
            "example": 150,
            "minimum": 0
          },
          "maxMessages": {
            "type": "number",
            "description": "Maximum number of messages allowed in this trial",
            "example": 1000,
            "minimum": 1
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the trial was created",
            "example": "2024-01-15T10:30:00Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the trial was last updated",
            "example": "2024-01-15T10:30:00Z"
          }
        },
        "required": [
          "id",
          "orgId",
          "messagesSent",
          "maxMessages",
          "createdAt",
          "updatedAt"
        ]
      },
      "SuperAdminTrialResponseDtoNullable": {
        "type": "object",
        "properties": {
          "trial": {
            "description": "Trial",
            "allOf": [
              {
                "$ref": "#/components/schemas/SuperAdminTrialResponseDto"
              }
            ]
          }
        }
      },
      "CreateTrialRequestDto": {
        "type": "object",
        "properties": {
          "orgId": {
            "type": "string",
            "description": "Organization ID for which to create the trial",
            "format": "uuid",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "maxMessages": {
            "type": "number",
            "description": "Maximum number of messages allowed in the trial",
            "example": 1000,
            "minimum": 1
          }
        },
        "required": [
          "orgId",
          "maxMessages"
        ]
      },
      "UpdateTrialRequestDto": {
        "type": "object",
        "properties": {
          "maxMessages": {
            "type": "number",
            "description": "Maximum number of messages allowed in the trial",
            "example": 2000,
            "minimum": 1
          },
          "messagesSent": {
            "type": "number",
            "description": "Number of messages already sent (can be used to reset or adjust)",
            "example": 0,
            "minimum": 0
          }
        }
      },
      "UsageConfigResponseDto": {
        "type": "object",
        "properties": {
          "isSelfHosted": {
            "type": "boolean",
            "description": "Whether the deployment is self-hosted. Determines feature availability.",
            "example": true
          }
        },
        "required": [
          "isSelfHosted"
        ]
      },
      "UsageStatsResponseDto": {
        "type": "object",
        "properties": {
          "totalTokens": {
            "type": "number",
            "description": "Total tokens consumed across all users and models in the specified period",
            "example": 1250000
          },
          "totalRequests": {
            "type": "number",
            "description": "Total number of API requests made in the specified period",
            "example": 3450
          },
          "activeUsers": {
            "type": "number",
            "description": "Number of users who made requests within the active user threshold (last 30 days)",
            "example": 42
          },
          "totalUsers": {
            "type": "number",
            "description": "Total number of unique users who made requests in the specified period",
            "example": 67
          },
          "topModels": {
            "description": "List of the most frequently used model names, ordered by usage",
            "example": [
              "gpt-4",
              "claude-3-sonnet",
              "gpt-3.5-turbo"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "totalTokens",
          "totalRequests",
          "activeUsers",
          "totalUsers",
          "topModels"
        ]
      },
      "TimeSeriesPointDto": {
        "type": "object",
        "properties": {
          "date": {
            "format": "date-time",
            "type": "string",
            "description": "Date of the data point"
          },
          "tokens": {
            "type": "number",
            "description": "Number of tokens at this point"
          },
          "requests": {
            "type": "number",
            "description": "Number of requests at this point"
          }
        },
        "required": [
          "date",
          "tokens",
          "requests"
        ]
      },
      "ProviderUsageDto": {
        "type": "object",
        "properties": {
          "provider": {
            "type": "string",
            "enum": [
              "openai",
              "anthropic",
              "bedrock",
              "mistral",
              "ollama",
              "synaforce",
              "ayunis",
              "otc",
              "azure",
              "gemini",
              "stackit"
            ],
            "description": "Model provider"
          },
          "tokens": {
            "type": "number",
            "description": "Total tokens for this provider"
          },
          "requests": {
            "type": "number",
            "description": "Total requests for this provider"
          },
          "percentage": {
            "type": "number",
            "description": "Percentage of total usage"
          },
          "timeSeriesData": {
            "description": "Time series data for this provider",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TimeSeriesPointDto"
            }
          }
        },
        "required": [
          "provider",
          "tokens",
          "requests",
          "percentage",
          "timeSeriesData"
        ]
      },
      "ProviderUsageResponseDto": {
        "type": "object",
        "properties": {
          "providers": {
            "description": "Provider usage statistics",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderUsageDto"
            }
          }
        },
        "required": [
          "providers"
        ]
      },
      "ProviderValuesDto": {
        "type": "object",
        "properties": {
          "openai": {
            "type": "number",
            "description": "Tokens for OpenAI"
          },
          "anthropic": {
            "type": "number",
            "description": "Tokens for Anthropic"
          },
          "mistral": {
            "type": "number",
            "description": "Tokens for Mistral"
          },
          "ollama": {
            "type": "number",
            "description": "Tokens for Ollama"
          },
          "synaforce": {
            "type": "number",
            "description": "Tokens for Synaforce"
          },
          "ayunis": {
            "type": "number",
            "description": "Tokens for Ayunis (internal)"
          }
        }
      },
      "ProviderTimeSeriesRowDto": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "description": "Date of the data point",
            "format": "date-time"
          },
          "values": {
            "description": "Tokens per provider for this date",
            "allOf": [
              {
                "$ref": "#/components/schemas/ProviderValuesDto"
              }
            ]
          }
        },
        "required": [
          "date",
          "values"
        ]
      },
      "ProviderUsageChartResponseDto": {
        "type": "object",
        "properties": {
          "timeSeries": {
            "description": "Aligned time series rows by date with provider token values",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderTimeSeriesRowDto"
            }
          }
        },
        "required": [
          "timeSeries"
        ]
      },
      "ModelDistributionDto": {
        "type": "object",
        "properties": {
          "modelId": {
            "type": "string",
            "description": "Model ID"
          },
          "modelName": {
            "type": "string",
            "description": "Model name"
          },
          "displayName": {
            "type": "string",
            "description": "Model display name"
          },
          "provider": {
            "type": "string",
            "enum": [
              "openai",
              "anthropic",
              "bedrock",
              "mistral",
              "ollama",
              "synaforce",
              "ayunis",
              "otc",
              "azure",
              "gemini",
              "stackit"
            ],
            "description": "Model provider"
          },
          "tokens": {
            "type": "number",
            "description": "Total tokens for this model"
          },
          "requests": {
            "type": "number",
            "description": "Total requests for this model"
          },
          "percentage": {
            "type": "number",
            "description": "Percentage of total usage"
          }
        },
        "required": [
          "modelId",
          "modelName",
          "displayName",
          "provider",
          "tokens",
          "requests",
          "percentage"
        ]
      },
      "ModelDistributionResponseDto": {
        "type": "object",
        "properties": {
          "models": {
            "description": "Model distribution statistics",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ModelDistributionDto"
            }
          }
        },
        "required": [
          "models"
        ]
      },
      "UserUsageDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "User ID"
          },
          "userName": {
            "type": "string",
            "description": "User name"
          },
          "userEmail": {
            "type": "string",
            "description": "User email"
          },
          "tokens": {
            "type": "number",
            "description": "Total tokens for this user"
          },
          "requests": {
            "type": "number",
            "description": "Total requests for this user"
          },
          "lastActivity": {
            "type": "string",
            "format": "date-time",
            "description": "Last activity date (null if no activity)",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the user is considered active"
          }
        },
        "required": [
          "userId",
          "userName",
          "userEmail",
          "tokens",
          "requests",
          "lastActivity",
          "isActive"
        ]
      },
      "UserUsageResponseDto": {
        "type": "object",
        "properties": {
          "data": {
            "description": "User usage statistics",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserUsageDto"
            }
          },
          "pagination": {
            "description": "Pagination metadata",
            "allOf": [
              {
                "$ref": "#/components/schemas/PaginationDto"
              }
            ]
          }
        },
        "required": [
          "data",
          "pagination"
        ]
      },
      "UserSystemPromptResponseDto": {
        "type": "object",
        "properties": {
          "systemPrompt": {
            "type": "string",
            "description": "The custom system prompt for the user, or null if not set",
            "example": "Always respond in bullet points. I work in the finance department.",
            "nullable": true
          }
        },
        "required": [
          "systemPrompt"
        ]
      },
      "UpsertUserSystemPromptDto": {
        "type": "object",
        "properties": {
          "systemPrompt": {
            "type": "string",
            "description": "The custom system prompt for the user",
            "example": "Always respond in bullet points. I work in the finance department.",
            "maxLength": 10000
          }
        },
        "required": [
          "systemPrompt"
        ]
      },
      "CreatePromptDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "The title of the prompt",
            "example": "Project Planning Assistant",
            "minLength": 1,
            "maxLength": 255
          },
          "content": {
            "type": "string",
            "description": "The content of the prompt",
            "example": "You are a helpful assistant that helps with project planning. Please provide detailed step-by-step guidance for managing projects effectively."
          }
        },
        "required": [
          "title",
          "content"
        ]
      },
      "PromptResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique identifier of the prompt",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "title": {
            "type": "string",
            "description": "The title of the prompt",
            "example": "Project Planning Assistant"
          },
          "content": {
            "type": "string",
            "description": "The content of the prompt",
            "example": "You are a helpful assistant that helps with project planning. Please provide detailed step-by-step guidance for managing projects effectively."
          },
          "userId": {
            "type": "string",
            "description": "The unique identifier of the user who owns this prompt",
            "example": "123e4567-e89b-12d3-a456-426614174000",
            "format": "uuid"
          },
          "createdAt": {
            "type": "string",
            "description": "The date and time when the prompt was created",
            "example": "2023-12-01T10:00:00.000Z",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "The date and time when the prompt was last updated",
            "example": "2023-12-01T10:00:00.000Z",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "title",
          "content",
          "userId",
          "createdAt",
          "updatedAt"
        ]
      },
      "UpdatePromptDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "The title of the prompt",
            "example": "Updated Project Planning Assistant",
            "minLength": 1,
            "maxLength": 255
          },
          "content": {
            "type": "string",
            "description": "The content of the prompt",
            "example": "You are an expert project planning assistant. Provide comprehensive guidance for project management, including risk assessment and timeline optimization."
          }
        },
        "required": [
          "title",
          "content"
        ]
      },
      "TranscriptionResponseDto": {
        "type": "object",
        "properties": {
          "text": {
            "type": "string",
            "description": "The transcribed text from the audio file",
            "example": "Hello, this is a test transcription."
          }
        },
        "required": [
          "text"
        ]
      },
      "LoginDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email address for authentication",
            "example": "user@example.com"
          },
          "password": {
            "type": "string",
            "description": "Password for authentication",
            "example": "password123"
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "SuccessResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Operation success status",
            "example": true
          }
        },
        "required": [
          "success"
        ]
      },
      "ErrorResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Error message",
            "example": "Authentication failed"
          }
        },
        "required": [
          "message"
        ]
      },
      "RegisterDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email address for the user account",
            "example": "user@example.com"
          },
          "password": {
            "type": "string",
            "description": "Password for the user account",
            "example": "password123"
          },
          "orgName": {
            "type": "string",
            "description": "Organization name",
            "example": "My Organization"
          },
          "userName": {
            "type": "string",
            "description": "User name",
            "example": "John Doe"
          },
          "marketingAcceptance": {
            "type": "boolean",
            "description": "Marketing acceptance",
            "example": true
          }
        },
        "required": [
          "email",
          "password",
          "orgName",
          "userName",
          "marketingAcceptance"
        ]
      },
      "MeResponseDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "User email address",
            "example": "user@example.com"
          },
          "role": {
            "type": "string",
            "description": "User role",
            "enum": [
              "admin",
              "user"
            ],
            "example": "user"
          },
          "systemRole": {
            "type": "string",
            "description": "User system role",
            "enum": [
              "customer",
              "super_admin"
            ],
            "example": "super_admin"
          },
          "name": {
            "type": "string",
            "description": "User name",
            "example": "John Doe"
          }
        },
        "required": [
          "email",
          "role",
          "systemRole",
          "name"
        ]
      }
    }
  }
}